"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[14982],{6129:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"user-management/personal-access-token","title":"Token de acceso personal","description":"Los tokens de acceso personal (PATs) proporcionan una forma segura para que los usuarios otorguen tokens de acceso sin usar sus credenciales e inicio de sesi\xf3n interactivo. Esto es \xfatil para CI/CD, scripts o aplicaciones que necesitan acceder a recursos de manera program\xe1tica.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","sourceDirName":"user-management","slug":"/user-management/personal-access-token","permalink":"/es/user-management/personal-access-token","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"B\xfasqueda avanzada de usuarios","permalink":"/es/user-management/advanced-user-search"},"next":{"title":"Migraci\xf3n de usuarios","permalink":"/es/user-management/user-migration"}}');var a=s(86070),t=s(15658);const i={sidebar_position:4},r="Token de acceso personal",c={},d=[{value:"Gesti\xf3n de tokens de acceso personal",id:"gesti\xf3n-de-tokens-de-acceso-personal",level:2},{value:"Usando la Consola",id:"usando-la-consola",level:3},{value:"Usando Management API",id:"usando-management-api",level:3},{value:"Usar PATs para otorgar tokens de acceso",id:"usar-pats-para-otorgar-tokens-de-acceso",level:2},{value:"Solicitud",id:"solicitud",level:3},{value:"Respuesta",id:"respuesta",level:3},{value:"Ejemplo de intercambio de tokens",id:"ejemplo-de-intercambio-de-tokens",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"token-de-acceso-personal",children:"Token de acceso personal"})}),"\n",(0,a.jsx)(n.p,{children:"Los tokens de acceso personal (PATs) proporcionan una forma segura para que los usuarios otorguen tokens de acceso sin usar sus credenciales e inicio de sesi\xf3n interactivo. Esto es \xfatil para CI/CD, scripts o aplicaciones que necesitan acceder a recursos de manera program\xe1tica."}),"\n",(0,a.jsx)(n.h2,{id:"gesti\xf3n-de-tokens-de-acceso-personal",children:"Gesti\xf3n de tokens de acceso personal"}),"\n",(0,a.jsx)(n.h3,{id:"usando-la-consola",children:"Usando la Consola"}),"\n",(0,a.jsx)(n.p,{children:'Puedes gestionar los tokens de acceso personal en la p\xe1gina de Detalles del Usuario de la Consola. En la tarjeta "Autenticaci\xf3n (Authentication)", puedes ver la lista de tokens de acceso personal y crear nuevos.'}),"\n",(0,a.jsx)(n.h3,{id:"usando-management-api",children:"Usando Management API"}),"\n",(0,a.jsxs)(n.p,{children:["Despu\xe9s de configurar el ",(0,a.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/",children:"Management API"}),", puedes usar los ",(0,a.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listuserpersonalaccesstokens",children:"endpoints de API"})," para crear, listar y eliminar tokens de acceso personal."]}),"\n",(0,a.jsx)(n.h2,{id:"usar-pats-para-otorgar-tokens-de-acceso",children:"Usar PATs para otorgar tokens de acceso"}),"\n",(0,a.jsx)(n.p,{children:"Despu\xe9s de crear un PAT, puedes usarlo para otorgar tokens de acceso a tu aplicaci\xf3n utilizando el endpoint de intercambio de tokens."}),"\n",(0,a.jsx)(n.h3,{id:"solicitud",children:"Solicitud"}),"\n",(0,a.jsxs)(n.p,{children:["La aplicaci\xf3n realiza una solicitud de intercambio de tokens al endpoint de tokens del inquilino con un tipo de concesi\xf3n especial utilizando el m\xe9todo HTTP POST. Los siguientes par\xe1metros se incluyen en el cuerpo de la entidad de la solicitud HTTP utilizando el formato ",(0,a.jsx)(n.code,{children:"application/x-www-form-urlencoded"}),"."]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"client_id"}),": REQUERIDO. El ID del cliente de la aplicaci\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"grant_type"}),": REQUERIDO. El valor de este par\xe1metro debe ser ",(0,a.jsx)(n.code,{children:"urn:ietf:params:oauth:grant-type:token-exchange"}),", lo que indica que se est\xe1 realizando un intercambio de tokens."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"resource"}),": OPCIONAL. El indicador de recurso, igual que otras solicitudes de token."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"scope"}),": OPCIONAL. Los alcances solicitados, igual que otras solicitudes de token."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"subject_token"}),": REQUERIDO. El PAT del usuario."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"subject_token_type"}),": REQUERIDO. El tipo de token de seguridad proporcionado en el par\xe1metro ",(0,a.jsx)(n.code,{children:"subject_token"}),". El valor de este par\xe1metro debe ser ",(0,a.jsx)(n.code,{children:"urn:logto:token-type:personal_access_token"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"respuesta",children:"Respuesta"}),"\n",(0,a.jsxs)(n.p,{children:["Si la solicitud de intercambio de tokens es exitosa, el endpoint de tokens del inquilino devuelve un token de acceso que representa la identidad del usuario. La respuesta incluye los siguientes par\xe1metros en el cuerpo de la entidad de la respuesta HTTP utilizando el formato ",(0,a.jsx)(n.code,{children:"application/json"}),"."]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"access_token"}),": REQUERIDO. El token de acceso del usuario, que es el mismo que otras solicitudes de token como ",(0,a.jsx)(n.code,{children:"authorization_code"})," o ",(0,a.jsx)(n.code,{children:"refresh_token"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"issued_token_type"}),": REQUERIDO. El tipo de token emitido. El valor de este par\xe1metro debe ser ",(0,a.jsx)(n.code,{children:"urn:ietf:params:oauth:token-type:access_token"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"token_type"}),": REQUERIDO. El tipo de token. El valor de este par\xe1metro debe ser ",(0,a.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"expires_in"}),": REQUERIDO. La duraci\xf3n en segundos del token de acceso."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"scope"}),": OPCIONAL. Los alcances del token de acceso."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"ejemplo-de-intercambio-de-tokens",children:"Ejemplo de intercambio de tokens"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"POST /oidc/token HTTP/1.1\nHost: tenant.logto.app\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic <base64(client-id:client-secret)>\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Atoken-exchange\n&scope=profile\n&subject_token=pat_W51arOqe7nynW75nWhvYogyc\n&subject_token_type=urn%3Alogto%3Atoken-type%3Apersonal_access_token\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  "access_token": "eyJhbGci...zg",\n  "issued_token_type": "urn:ietf:params:oauth:token-type:access_token",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "scope": "profile"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"El ejemplo de carga \xfatil del token de acceso:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "jti": "iFtbZBeh2M1cTTBuKbHk4",\n  "sub": "123",\n  "iss": "https://tenant.logto.app/oidc",\n  "exp": 1672531200,\n  "iat": 1672527600,\n  "scope": "profile",\n  "client_id": "client-id"\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},15658:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var o=s(30758);const a={},t=o.createContext(a);function i(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);