"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[6346],{74879:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(n.p,{children:["Recomendamos leer primero ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Control de acceso basado en roles (RBAC)"})," para entender los conceptos b\xe1sicos de Logto RBAC y c\xf3mo configurar correctamente los recursos de API."]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},58469:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[{value:"Reclamos que necesitan solicitudes de red",id:"reclamos-que-necesitan-solicitudes-de-red",level:3}];function a(e){const n={code:"code",h3:"h3",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,o.jsx)(n.h3,{id:"reclamos-que-necesitan-solicitudes-de-red",children:"Reclamos que necesitan solicitudes de red"}),"\n",(0,o.jsxs)(n.p,{children:["Para evitar sobrecargar el Token de ID, algunos reclamos requieren solicitudes de red para ser obtenidos. Por ejemplo, el reclamo ",(0,o.jsx)(n.code,{children:"custom_data"})," no se incluye en el objeto de usuario incluso si se solicita en los alcances. Para acceder a estos reclamos, ",(0,o.jsxs)("span",{children:["method"===e.type&&(0,o.jsxs)(o.Fragment,{children:["puedes usar el m\xe9todo ",(0,o.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,o.jsxs)(o.Fragment,{children:["puedes configurar la opci\xf3n ",(0,o.jsx)("code",{children:e.configOption})]})]}),":"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,o.jsxs)(o.Fragment,{children:["Este m\xe9todo obtendr\xe1 la informaci\xf3n del usuario solicitando al"," ",(0,o.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"}),". Para aprender m\xe1s sobre los alcances y reclamos disponibles, consulta la secci\xf3n de"," ",(0,o.jsx)("a",{href:"#scopes-and-claims",children:"Alcances y reclamos"}),"."]}),"\n","option"===e.type&&(0,o.jsxs)(o.Fragment,{children:["Al configurar ",(0,o.jsx)("code",{children:e.configOption}),", el SDK obtendr\xe1 la informaci\xf3n del usuario solicitando al"," ",(0,o.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"})," ","despu\xe9s de que el usuario haya iniciado sesi\xf3n, y ",(0,o.jsx)("code",{children:e.value??"user.custom_data"})," ","estar\xe1 disponible una vez que la solicitud se complete."]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},16275:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Una vez que hayas configurado los recursos de API, puedes agregarlos al configurar Logto en tu aplicaci\xf3n:"}),"\n",e.configResourcesCode,"\n",(0,o.jsx)(n.p,{children:"Cada recurso de API tiene sus propios permisos (alcances)."}),"\n",(0,o.jsxs)(n.p,{children:["Por ejemplo, el recurso ",(0,o.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," tiene los permisos ",(0,o.jsx)(n.code,{children:"shopping:read"})," y ",(0,o.jsx)(n.code,{children:"shopping:write"}),", y el recurso ",(0,o.jsx)(n.code,{children:"https://store.your-app.com/api"})," tiene los permisos ",(0,o.jsx)(n.code,{children:"store:read"})," y ",(0,o.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Para solicitar estos permisos, puedes agregarlos al configurar Logto en tu aplicaci\xf3n:"}),"\n",e.configResourcesWithScopesCode,"\n",(0,o.jsxs)(n.p,{children:["Puedes notar que los alcances se definen por separado de los recursos de API. Esto se debe a que ",(0,o.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Resource Indicators for OAuth 2.0"})," especifica que los alcances finales para la solicitud ser\xe1n el producto cartesiano de todos los alcances en todos los servicios objetivo."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["As\xed, en el caso anterior, los alcances se pueden simplificar desde la definici\xf3n en Logto, ambos recursos de API pueden tener alcances ",(0,o.jsx)("code",{children:"read"})," y ",(0,o.jsx)("code",{children:"write"})," sin el prefijo. Luego, en la configuraci\xf3n de Logto:"]}),e.configResourcesWithSharedScopesCode,(0,o.jsxs)("p",{children:["Para cada recurso de API, se solicitar\xe1n tanto los alcances ",(0,o.jsx)("code",{children:"read"})," como"," ",(0,o.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Est\xe1 bien solicitar alcances que no est\xe1n definidos en los recursos de API. Por ejemplo, puedes solicitar el alcance ",(0,o.jsx)(n.code,{children:"email"})," incluso si los recursos de API no tienen el alcance ",(0,o.jsx)(n.code,{children:"email"})," disponible. Los alcances no disponibles ser\xe1n ignorados de manera segura."]})}),"\n",(0,o.jsx)(n.p,{children:"Despu\xe9s de un inicio de sesi\xf3n exitoso, Logto emitir\xe1 los alcances apropiados a los recursos de API de acuerdo con los roles del usuario."})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},31580:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Para obtener el token de acceso para un recurso de API espec\xedfico, puedes usar el m\xe9todo ",(0,o.jsx)("code",{children:e.getAccessTokenApi}),":"]}),"\n",e.getAccessTokenCode,"\n",(0,o.jsx)(n.p,{children:"Este m\xe9todo devolver\xe1 un token de acceso JWT que se puede usar para acceder al recurso de API cuando el usuario tiene permisos relacionados. Si el token de acceso en cach\xe9 actual ha expirado, este m\xe9todo intentar\xe1 autom\xe1ticamente usar un token de actualizaci\xf3n para obtener un nuevo token de acceso."})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},83470:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Si la organizaci\xf3n es nueva para ti, por favor lee ",(0,o.jsx)(n.a,{href:"/organizations",children:"\ud83c\udfe2 Organizaciones (Multi-tenancy)"})," para comenzar."]}),"\n",(0,o.jsxs)(n.p,{children:["Necesitas a\xf1adir el alcance ",(0,o.jsx)("code",{children:e.organizationScope})," al configurar el cliente Logto:"]}),"\n",e.configOrganizationCode,"\n",(0,o.jsx)(n.p,{children:"Una vez que el usuario ha iniciado sesi\xf3n, puedes obtener el token de organizaci\xf3n para el usuario:"}),"\n",e.getOrganizationAccessTokenCode]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},35361:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(n.p,{children:["Es posible que encuentres que falta alguna informaci\xf3n del usuario en el objeto devuelto desde ",(0,o.jsx)("code",{children:e.method}),". Esto se debe a que OAuth 2.0 y OpenID Connect (OIDC) est\xe1n dise\xf1ados para seguir el principio de privilegio m\xednimo (PoLP), y Logto est\xe1 construido sobre estos est\xe1ndares."]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},406:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const{Url:n}={...(0,i.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n,{href:"/end-user-flows",children:" Flujos de usuario final: flujos de autenticaci\xf3n, flujos de cuenta y flujos de organizaci\xf3n "}),"\n",(0,o.jsx)(n,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,o.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:" Protege tu API "})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},58582:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={a:"a",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(s,{children:[(0,o.jsx)("summary",{children:"Sobre el inicio de sesi\xf3n basado en redirecci\xf3n"}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Este proceso de autenticaci\xf3n sigue el protocolo ",(0,o.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", y Logto aplica medidas de seguridad estrictas para proteger el inicio de sesi\xf3n del usuario."]}),"\n",(0,o.jsx)(n.li,{children:"Si tienes m\xfaltiples aplicaciones, puedes usar el mismo proveedor de identidad (Logto). Una vez que el usuario inicia sesi\xf3n en una aplicaci\xf3n, Logto completar\xe1 autom\xe1ticamente el proceso de inicio de sesi\xf3n cuando el usuario acceda a otra aplicaci\xf3n."}),"\n"]}),(0,o.jsxs)(n.p,{children:["Para aprender m\xe1s sobre la l\xf3gica y los beneficios del inicio de sesi\xf3n basado en redirecci\xf3n, consulta ",(0,o.jsx)(n.a,{href:"/concepts/sign-in-experience",children:"Experiencia de inicio de sesi\xf3n de Logto explicada"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},60482:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Aqu\xed est\xe1 la lista de alcances (Scopes) soportados y los reclamos (Claims) correspondientes:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"openid"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"sub"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"El identificador \xfanico del usuario"}),(0,o.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"profile"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"name"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"El nombre completo del usuario"}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"username"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"El nombre de usuario del usuario"}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"picture"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"URL de la foto de perfil del usuario final. Esta URL DEBE referirse a un archivo de imagen (por ejemplo, un archivo de imagen PNG, JPEG o GIF), en lugar de a una p\xe1gina web que contenga una imagen. Ten en cuenta que esta URL DEBER\xcdA referirse espec\xedficamente a una foto de perfil del usuario final adecuada para mostrar al describir al usuario final, en lugar de una foto arbitraria tomada por el usuario final."}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"created_at"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"number"})}),(0,o.jsx)(n.td,{children:"Momento en que se cre\xf3 el usuario final. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"updated_at"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"number"})}),(0,o.jsx)(n.td,{children:"Momento en que se actualiz\xf3 por \xfaltima vez la informaci\xf3n del usuario final. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,o.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["Otros ",(0,o.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reclamos est\xe1ndar"})," incluyen ",(0,o.jsx)(n.code,{children:"family_name"}),", ",(0,o.jsx)(n.code,{children:"given_name"}),", ",(0,o.jsx)(n.code,{children:"middle_name"}),", ",(0,o.jsx)(n.code,{children:"nickname"}),", ",(0,o.jsx)(n.code,{children:"preferred_username"}),", ",(0,o.jsx)(n.code,{children:"profile"}),", ",(0,o.jsx)(n.code,{children:"website"}),", ",(0,o.jsx)(n.code,{children:"gender"}),", ",(0,o.jsx)(n.code,{children:"birthdate"}),", ",(0,o.jsx)(n.code,{children:"zoneinfo"})," y ",(0,o.jsx)(n.code,{children:"locale"})," tambi\xe9n se incluir\xe1n en el alcance ",(0,o.jsx)(n.code,{children:"profile"})," sin necesidad de solicitar el endpoint de userinfo. Una diferencia en comparaci\xf3n con los reclamos anteriores es que estos reclamos solo se devolver\xe1n cuando sus valores no est\xe9n vac\xedos, mientras que los reclamos anteriores devolver\xe1n ",(0,o.jsx)(n.code,{children:"null"})," si los valores est\xe1n vac\xedos."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["A diferencia de los reclamos est\xe1ndar, los reclamos ",(0,o.jsx)(n.code,{children:"created_at"})," y ",(0,o.jsx)(n.code,{children:"updated_at"})," utilizan milisegundos en lugar de segundos."]})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"email"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"email"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"La direcci\xf3n de correo electr\xf3nico del usuario"}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"email_verified"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"boolean"})}),(0,o.jsx)(n.td,{children:"Si la direcci\xf3n de correo electr\xf3nico ha sido verificada"}),(0,o.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"phone"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"phone_number"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string"})}),(0,o.jsx)(n.td,{children:"El n\xfamero de tel\xe9fono del usuario"}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"phone_number_verified"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"boolean"})}),(0,o.jsx)(n.td,{children:"Si el n\xfamero de tel\xe9fono ha sido verificado"}),(0,o.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"address"})})}),"\n",(0,o.jsxs)(n.p,{children:["Por favor, consulta el ",(0,o.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para los detalles del reclamo de direcci\xf3n."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"custom_data"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"object"})}),(0,o.jsx)(n.td,{children:"Los datos personalizados del usuario"}),(0,o.jsx)(n.td,{children:"S\xed"})]})})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"identities"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"identities"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"object"})}),(0,o.jsx)(n.td,{children:"Las identidades vinculadas del usuario"}),(0,o.jsx)(n.td,{children:"S\xed"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"sso_identities"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"array"})}),(0,o.jsx)(n.td,{children:"Las identidades SSO vinculadas del usuario"}),(0,o.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"organizations"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string[]"})}),(0,o.jsx)(n.td,{children:"Los IDs de las organizaciones a las que pertenece el usuario"}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"organization_data"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"object[]"})}),(0,o.jsx)(n.td,{children:"Los datos de las organizaciones a las que pertenece el usuario"}),(0,o.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Nombre del reclamo"}),(0,o.jsx)(n.th,{children:"Tipo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"}),(0,o.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"organization_roles"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"string[]"})}),(0,o.jsxs)(n.td,{children:["Los roles de organizaci\xf3n a los que pertenece el usuario con el formato ",(0,o.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,o.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:['Considerando el rendimiento y el tama\xf1o de los datos, si "\xbfNecesita userinfo?" es "S\xed", significa que el reclamo no aparecer\xe1 en el Token de ID, pero se devolver\xe1 en la respuesta del ',(0,o.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},58787:(e,n,s)=>{s.d(n,{Ay:()=>t,RM:()=>a});var o=s(86070),i=s(15658),r=s(60482);const a=[...r.RM];function c(e){const n={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Logto utiliza las ",(0,o.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"convenciones de alcances y reclamos (scopes and claims)"})," de OIDC para definir los alcances y reclamos para obtener informaci\xf3n del usuario del Token de ID y del ",(0,o.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' de OIDC. Tanto "alcance" como "reclamo" son t\xe9rminos de las especificaciones de OAuth 2.0 y OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:"En resumen, cuando solicitas un alcance, obtendr\xe1s los reclamos correspondientes en la informaci\xf3n del usuario. Por ejemplo, si solicitas el alcance `email`, obtendr\xe1s los datos `email` y `email_verified` del usuario."}),(0,o.jsx)("p",{children:"Por defecto, Logto SDK siempre solicitar\xe1 tres alcances: `openid`, `profile` y `offline_access`, y no hay forma de eliminar estos alcances predeterminados. Pero puedes a\xf1adir m\xe1s alcances al configurar Logto:"}),e.configScopesCode]}),"\n",(0,o.jsx)(r.Ay,{})]})}function t(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},80198:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>r});var o=s(86070),i=s(15658);const r=[];function a(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"De forma predeterminada, se devuelven reclamos limitados. Si necesitas m\xe1s informaci\xf3n, puedes solicitar alcances adicionales para acceder a m\xe1s reclamos."}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:'Un "reclamo (Claim)" es una afirmaci\xf3n hecha sobre un sujeto; un "alcance (Scope)" es un grupo de reclamos. En el caso actual, un reclamo es una pieza de informaci\xf3n sobre el usuario.'})}),"\n",(0,o.jsx)(n.p,{children:"Aqu\xed tienes un ejemplo no normativo de la relaci\xf3n alcance - reclamo:"}),"\n",(0,o.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:'El reclamo "sub" significa "sujeto", que es el identificador \xfanico del usuario (es decir, el ID del usuario).'})}),"\n",(0,o.jsxs)(n.p,{children:["El SDK de Logto siempre solicitar\xe1 tres alcances: ",(0,o.jsx)(n.code,{children:"openid"}),", ",(0,o.jsx)(n.code,{children:"profile"})," y ",(0,o.jsx)(n.code,{children:"offline_access"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},53944:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>y,contentTitle:()=>v,default:()=>R,frontMatter:()=>b,metadata:()=>o,toc:()=>A});const o=JSON.parse('{"id":"quick-starts/framework/chrome-extension/README","title":"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n de extensi\xf3n de Chrome","description":"Esta gu\xeda te mostrar\xe1 c\xf3mo integrar Logto en tu extensi\xf3n de Chrome.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","sourceDirName":"quick-starts/framework/chrome-extension","slug":"/quick-starts/chrome-extension","permalink":"/es/quick-starts/chrome-extension","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/chrome-extension","sidebar_label":"Extensi\xf3n de Chrome","sidebar_custom_props":{"description":"Las extensiones de Chrome son mini aplicaciones web que se ejecutan dentro de Google Chrome."}},"sidebar":"quickStartSidebar","previous":{"title":"Capacitor JS","permalink":"/es/quick-starts/capacitor-js"},"next":{"title":".NET Core (Blazor Server)","permalink":"/es/quick-starts/dotnet-core/blazor-server"}}');var i=s(86070),r=s(15658),a=s(406),c=s(93218),t=s(57980);function l(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La siguiente demostraci\xf3n fue probada en Chrome v123.0.6312.87 (arm64). Otras versiones tambi\xe9n deber\xedan funcionar, siempre que admitan las APIs de ",(0,i.jsx)(n.code,{children:"chrome"})," utilizadas en el SDK."]}),"\n",(0,i.jsxs)(n.li,{children:["El proyecto de ejemplo est\xe1 disponible en nuestro ",(0,i.jsx)(n.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"repositorio de GitHub"}),"."]}),"\n"]})})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}var u=s(78551),p=s(77501);function h(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(p.A,{children:[(0,i.jsx)(u.A,{value:"npm",label:"npm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i @logto/chrome-extension\n"})})}),(0,i.jsx)(u.A,{value:"yarn",label:"Yarn",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn add @logto/chrome-extension\n"})})}),(0,i.jsx)(u.A,{value:"pnpm",label:"pnpm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm add @logto/chrome-extension\n"})})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}var j=s(58582);const x=[{value:"El flujo de autenticaci\xf3n",id:"el-flujo-de-autenticaci\xf3n",level:3},...j.RM,{value:"Actualiza el <code>manifest.json</code>",id:"actualiza-el-manifestjson",level:3},{value:"Configura un script de fondo (service worker)",id:"configura-un-script-de-fondo-service-worker",level:3},{value:"Actualiza la configuraci\xf3n de la aplicaci\xf3n Logto",id:"actualiza-la-configuraci\xf3n-de-la-aplicaci\xf3n-logto",level:3},{value:"A\xf1ade botones de inicio y cierre de sesi\xf3n al popup",id:"a\xf1ade-botones-de-inicio-y-cierre-de-sesi\xf3n-al-popup",level:3},{value:"Punto de control: Prueba el flujo de autenticaci\xf3n",id:"punto-de-control-prueba-el-flujo-de-autenticaci\xf3n",level:3},{value:"Verifica el estado de autenticaci\xf3n",id:"verifica-el-estado-de-autenticaci\xf3n",level:3},{value:"Otras consideraciones",id:"otras-consideraciones",level:3}];function g(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"el-flujo-de-autenticaci\xf3n",children:"El flujo de autenticaci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:'Suponiendo que colocas un bot\xf3n de "Iniciar sesi\xf3n" en el popup de tu extensi\xf3n de Chrome, el flujo de autenticaci\xf3n se ver\xe1 as\xed:'}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n  participant A as Popup de la extensi\xf3n\n  participant B as Service worker de la extensi\xf3n\n  participant C as Experiencia de inicio de sesi\xf3n de Logto\n\n  A->>B: Invoca inicio de sesi\xf3n\n  B->>C: Redirige a Logto\n  C->>C: El usuario inicia sesi\xf3n\n  C->>B: Redirige de vuelta a la extensi\xf3n\n  B->>A: Notifica al popup"}),"\n",(0,i.jsxs)(n.p,{children:["Para otras p\xe1ginas interactivas en tu extensi\xf3n, solo necesitas reemplazar el participante ",(0,i.jsx)(n.code,{children:"Popup de la extensi\xf3n"})," con el nombre de la p\xe1gina. En este tutorial, nos centraremos en la p\xe1gina del popup."]}),"\n",(0,i.jsx)(j.Ay,{}),"\n",(0,i.jsxs)(n.h3,{id:"actualiza-el-manifestjson",children:["Actualiza el ",(0,i.jsx)(n.code,{children:"manifest.json"})]}),"\n",(0,i.jsxs)(n.p,{children:["Logto SDK requiere los siguientes permisos en el ",(0,i.jsx)(n.code,{children:"manifest.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="manifest.json"',children:'{\n  "permissions": ["identity", "storage"],\n  "host_permissions": ["https://*.logto.app/*"]\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"permissions.identity"}),": Requerido para la API de Identidad de Chrome, que se utiliza para iniciar y cerrar sesi\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"permissions.storage"}),": Requerido para almacenar la sesi\xf3n del usuario."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"host_permissions"}),": Requerido para que el Logto SDK se comunique con las APIs de Logto."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Si est\xe1s utilizando un dominio personalizado en Logto Cloud, necesitas actualizar el ",(0,i.jsx)(n.code,{children:"host_permissions"})," para que coincida con tu dominio."]})}),"\n",(0,i.jsx)(n.h3,{id:"configura-un-script-de-fondo-service-worker",children:"Configura un script de fondo (service worker)"}),"\n",(0,i.jsx)(n.p,{children:"En el script de fondo de tu extensi\xf3n de Chrome, inicializa el Logto SDK:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="service-worker.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nexport const logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Reemplaza ",(0,i.jsx)(n.code,{children:"<your-logto-endpoint>"})," y ",(0,i.jsx)(n.code,{children:"<your-logto-app-id>"})," con los valores reales. Puedes encontrar estos valores en la p\xe1gina de la aplicaci\xf3n que acabas de crear en el Logto Console."]}),"\n",(0,i.jsxs)(n.p,{children:["Si no tienes un script de fondo, puedes seguir la ",(0,i.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/develop/concepts/service-workers/basics",children:"gu\xeda oficial"})," para crear uno."]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\xbfPor qu\xe9 necesitamos un script de fondo?"})}),(0,i.jsx)(n.p,{children:"Las p\xe1ginas normales de la extensi\xf3n, como el popup o la p\xe1gina de opciones, no pueden ejecutarse en segundo plano y pueden cerrarse durante el proceso de autenticaci\xf3n. Un script de fondo asegura que el proceso de autenticaci\xf3n se maneje correctamente."})]}),"\n",(0,i.jsx)(n.p,{children:"Luego, necesitamos escuchar el mensaje de otras p\xe1ginas de la extensi\xf3n y manejar el proceso de autenticaci\xf3n:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="service-worker.js"',children:"chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  // En el c\xf3digo a continuaci\xf3n, dado que devolvemos `true` para cada acci\xf3n, necesitamos llamar a `sendResponse`\n  // para notificar al remitente. Tambi\xe9n puedes manejar errores aqu\xed, o usar otras formas de notificar al remitente.\n\n  if (message.action === 'signIn') {\n    const redirectUri = chrome.identity.getRedirectURL('/callback');\n    logtoClient.signIn(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  if (message.action === 'signOut') {\n    const redirectUri = chrome.identity.getRedirectURL();\n    logtoClient.signOut(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  return false;\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Puedes notar que hay dos URIs de redirecci\xf3n utilizados en el c\xf3digo anterior. Ambos son creados por ",(0,i.jsx)(n.code,{children:"chrome.identity.getRedirectURL"}),", que es una ",(0,i.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/api/identity#method-getRedirectURL",children:"API integrada de Chrome"})," para generar una URL de redirecci\xf3n para flujos de autenticaci\xf3n. Las dos URIs ser\xe1n:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/callback"})," para iniciar sesi\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/"})," para cerrar sesi\xf3n."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ten en cuenta que estas URIs no son accesibles y solo se utilizan para que Chrome active acciones espec\xedficas para el proceso de autenticaci\xf3n."}),"\n",(0,i.jsx)(n.h3,{id:"actualiza-la-configuraci\xf3n-de-la-aplicaci\xf3n-logto",children:"Actualiza la configuraci\xf3n de la aplicaci\xf3n Logto"}),"\n",(0,i.jsx)(n.p,{children:"Ahora necesitamos actualizar la configuraci\xf3n de la aplicaci\xf3n Logto para permitir las URIs de redirecci\xf3n que acabamos de crear."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ve a la p\xe1gina de la aplicaci\xf3n en el Logto Console."}),"\n",(0,i.jsxs)(n.li,{children:['En la secci\xf3n "Redirect URIs", agrega la URI: ',(0,i.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/callback"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:['En la secci\xf3n "Post sign-out redirect URIs", agrega la URI: ',(0,i.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:['En la secci\xf3n "CORS allowed origins", agrega la URI: ',(0,i.jsx)(n.code,{children:"chrome-extension://<extension-id>"}),". El SDK en la extensi\xf3n de Chrome usar\xe1 este origen para comunicarse con las APIs de Logto."]}),"\n",(0,i.jsxs)(n.li,{children:["Haz clic en ",(0,i.jsx)(n.strong,{children:"Guardar cambios"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Recuerda reemplazar ",(0,i.jsx)(n.code,{children:"<extension-id>"})," con tu ID de extensi\xf3n real. Puedes encontrar el ID de la extensi\xf3n en la p\xe1gina ",(0,i.jsx)(n.code,{children:"chrome://extensions"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"a\xf1ade-botones-de-inicio-y-cierre-de-sesi\xf3n-al-popup",children:"A\xf1ade botones de inicio y cierre de sesi\xf3n al popup"}),"\n",(0,i.jsx)(n.p,{children:"\xa1Ya casi estamos! Vamos a a\xf1adir los botones de inicio y cierre de sesi\xf3n y otra l\xf3gica necesaria a la p\xe1gina del popup."}),"\n",(0,i.jsxs)(n.p,{children:["En el archivo ",(0,i.jsx)(n.code,{children:"popup.html"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="popup.html"',children:'<button id="sign-in">Iniciar sesi\xf3n</button> <button id="sign-out">Cerrar sesi\xf3n</button>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["En el archivo ",(0,i.jsx)(n.code,{children:"popup.js"})," (suponiendo que ",(0,i.jsx)(n.code,{children:"popup.js"})," est\xe1 incluido en el ",(0,i.jsx)(n.code,{children:"popup.html"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  // Inicio de sesi\xf3n completado (o fallido), puedes actualizar la UI aqu\xed.\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  // Cierre de sesi\xf3n completado (o fallido), puedes actualizar la UI aqu\xed.\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"punto-de-control-prueba-el-flujo-de-autenticaci\xf3n",children:"Punto de control: Prueba el flujo de autenticaci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:"Ahora puedes probar el flujo de autenticaci\xf3n en tu extensi\xf3n de Chrome:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Abre el popup de la extensi\xf3n."}),"\n",(0,i.jsx)(n.li,{children:'Haz clic en el bot\xf3n "Iniciar sesi\xf3n".'}),"\n",(0,i.jsx)(n.li,{children:"Ser\xe1s redirigido a la p\xe1gina de inicio de sesi\xf3n de Logto."}),"\n",(0,i.jsx)(n.li,{children:"Inicia sesi\xf3n con tu cuenta de Logto."}),"\n",(0,i.jsx)(n.li,{children:"Ser\xe1s redirigido de vuelta a Chrome."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"verifica-el-estado-de-autenticaci\xf3n",children:"Verifica el estado de autenticaci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:"Dado que Chrome proporciona APIs de almacenamiento unificadas, adem\xe1s del flujo de inicio y cierre de sesi\xf3n, todos los dem\xe1s m\xe9todos del Logto SDK pueden usarse directamente en la p\xe1gina del popup."}),"\n",(0,i.jsxs)(n.p,{children:["En tu ",(0,i.jsx)(n.code,{children:"popup.js"}),", puedes reutilizar la instancia de ",(0,i.jsx)(n.code,{children:"LogtoClient"})," creada en el script de fondo, o crear una nueva con la misma configuraci\xf3n:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nconst logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n\n// O reutiliza la instancia de logtoClient creada en el script de fondo\nimport { logtoClient } from './service-worker.js';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Luego puedes crear una funci\xf3n para cargar el estado de autenticaci\xf3n y el perfil del usuario:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"const loadAuthenticationState = async () => {\n  const isAuthenticated = await logtoClient.isAuthenticated();\n  // Actualiza la UI seg\xfan el estado de autenticaci\xf3n\n\n  if (isAuthenticated) {\n    const user = await logtoClient.getIdTokenClaims(); // { sub: '...', email: '...', ... }\n    // Actualiza la UI con el perfil del usuario\n  }\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Tambi\xe9n puedes combinar la funci\xf3n ",(0,i.jsx)(n.code,{children:"loadAuthenticationState"})," con la l\xf3gica de inicio y cierre de sesi\xf3n:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  await loadAuthenticationState();\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  await loadAuthenticationState();\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"Aqu\xed tienes un ejemplo de la p\xe1gina del popup con el estado de autenticaci\xf3n:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"P\xe1gina del popup",src:s(72668).A+"",width:"950",height:"662"})}),"\n",(0,i.jsx)(n.h3,{id:"otras-consideraciones",children:"Otras consideraciones"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Empaquetado del service worker"}),": Si usas un empaquetador como Webpack o Rollup, necesitas establecer expl\xedcitamente el objetivo en ",(0,i.jsx)(n.code,{children:"browser"})," o similar para evitar el empaquetado innecesario de m\xf3dulos de Node.js."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resoluci\xf3n de m\xf3dulos"}),": El SDK de extensi\xf3n de Chrome de Logto es un m\xf3dulo solo ESM."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Consulta nuestro ",(0,i.jsx)(n.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"proyecto de ejemplo"})," para un ejemplo completo con TypeScript, Rollup y otras configuraciones."]})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}const b={slug:"/quick-starts/chrome-extension",sidebar_label:"Extensi\xf3n de Chrome",sidebar_custom_props:{description:"Las extensiones de Chrome son mini aplicaciones web que se ejecutan dentro de Google Chrome."}},v="A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n de extensi\xf3n de Chrome",y={},A=[{value:"Prerrequisitos",id:"prerrequisitos",level:2},{value:"Instalaci\xf3n",id:"instalaci\xf3n",level:2},{value:"Integraci\xf3n",id:"integraci\xf3n",level:2},...x,{value:"Obtener informaci\xf3n del usuario",id:"obtener-informaci\xf3n-del-usuario",level:2},...t.RM,{value:"Recursos de API",id:"recursos-de-api",level:2},...c.RM,{value:"Lecturas adicionales",id:"lecturas-adicionales",level:2},...a.RM];function C(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"a\xf1ade-autenticaci\xf3n-a-tu-aplicaci\xf3n-de-extensi\xf3n-de-chrome",children:"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n de extensi\xf3n de Chrome"})}),"\n",(0,i.jsx)(n.p,{children:"Esta gu\xeda te mostrar\xe1 c\xf3mo integrar Logto en tu extensi\xf3n de Chrome."}),"\n",(0,i.jsx)(d,{}),"\n",(0,i.jsx)(n.h2,{id:"prerrequisitos",children:"Prerrequisitos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Una cuenta de ",(0,i.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," o un ",(0,i.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto autoalojado"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Una aplicaci\xf3n de una sola p\xe1gina (SPA) creada en Logto Console."}),"\n",(0,i.jsx)(n.li,{children:"Un proyecto de extensi\xf3n de Chrome."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"instalaci\xf3n",children:"Instalaci\xf3n"}),"\n",(0,i.jsx)(m,{}),"\n",(0,i.jsx)(n.h2,{id:"integraci\xf3n",children:"Integraci\xf3n"}),"\n",(0,i.jsx)(f,{}),"\n",(0,i.jsx)(n.h2,{id:"obtener-informaci\xf3n-del-usuario",children:"Obtener informaci\xf3n del usuario"}),"\n",(0,i.jsx)(t.Ay,{package:"@logto/chrome-extension"}),"\n",(0,i.jsx)(n.h2,{id:"recursos-de-api",children:"Recursos de API"}),"\n",(0,i.jsx)(c.Ay,{package:"@logto/chrome-extension"}),"\n",(0,i.jsx)(n.h2,{id:"lecturas-adicionales",children:"Lecturas adicionales"}),"\n",(0,i.jsx)(a.Ay,{})]})}function R(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(C,{...e})}):C(e)}},93218:(e,n,s)=>{s.d(n,{Ay:()=>R,RM:()=>A});var o=s(86070),i=s(15658),r=s(74879),a=s(16275),c=s(31580),t=s(83470),l=s(8899);function d(e){return(0,o.jsxs)(o.Fragment,{children:["\n","\n",(0,o.jsx)(l.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\nscopes: [UserScope.Organizations],\n});`}),"\n"]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function p(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"import LogtoClient from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  // ...other configs\n  // highlight-next-line\n  resources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Add API resources\n});\n"})})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}function m(e){return(0,o.jsxs)(o.Fragment,{children:["\n","\n",(0,o.jsx)(l.A,{language:"js",title:"index.js",children:`import LogtoClient from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nscopes: ['shopping:read', 'shopping:write', 'store:read', 'store:write'],\nresources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Add API resources\n// highlight-end\n});`}),"\n"]})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}function x(e){return(0,o.jsxs)(o.Fragment,{children:["\n","\n",(0,o.jsx)(l.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nscopes: ['read', 'write'],\nresources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'],\n// highlight-end\n});`}),"\n"]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(x,{...e})}):x(e)}function f(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const accessToken = await logtoClient.getAccessToken('https://store.your-app.com/api');\nconsole.log('Access token', accessToken);\n"})})}function b(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(f,{...e})}):f(e)}function v(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"// Obtener organizationIds del userInfo\n\nconst claims = await logtoClient.getIdTokenClaims();\nconst organizationIds = claims.organizations;\n\n/**\n * O desde los reclamos del token de ID\n *\n * const claims = await logtoClient.getIdTokenClaims();\n * const organizationIds = claims.organizations;\n */\n\n// Obtener el token de acceso de la organizaci\xf3n\nif (organizationIds.length > 0) {\n  const organizationId = organizationIds[0];\n  const organizationAccessToken = await logtoClient.getOrganizationToken(organizationId);\n  console.log('Token de acceso de la organizaci\xf3n', organizationAccessToken);\n}\n"})})}function y(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(v,{...e})}):v(e)}const A=[...r.RM,{value:"Configurar el cliente de Logto",id:"configurar-el-cliente-de-logto",level:3},...a.RM,{value:"Obtener token de acceso para el recurso de API",id:"obtener-token-de-acceso-para-el-recurso-de-api",level:3},...c.RM,{value:"Obtener tokens de organizaci\xf3n",id:"obtener-tokens-de-organizaci\xf3n",level:3},...t.RM,{value:"Adjuntar token de acceso a los encabezados de solicitud",id:"adjuntar-token-de-acceso-a-los-encabezados-de-solicitud",level:3}];function C(e){const n={admonition:"admonition",code:"code",h3:"h3",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Ay,{}),"\n",(0,o.jsx)(n.h3,{id:"configurar-el-cliente-de-logto",children:"Configurar el cliente de Logto"}),"\n",(0,o.jsx)(a.Ay,{configResourcesCode:(0,o.jsx)(h,{}),configResourcesWithScopesCode:(0,o.jsx)(j,{package:e.package}),configResourcesWithSharedScopesCode:(0,o.jsx)(g,{package:e.package})}),"\n",(0,o.jsx)(n.h3,{id:"obtener-token-de-acceso-para-el-recurso-de-api",children:"Obtener token de acceso para el recurso de API"}),"\n",(0,o.jsx)(c.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,o.jsx)(b,{})}),"\n",(0,o.jsx)(n.h3,{id:"obtener-tokens-de-organizaci\xf3n",children:"Obtener tokens de organizaci\xf3n"}),"\n",(0,o.jsx)(t.Ay,{organizationScope:"UserScope.Organizations",configOrganizationCode:(0,o.jsx)(u,{package:e.package}),getOrganizationAccessTokenCode:(0,o.jsx)(y,{})}),"\n",(0,o.jsx)(n.p,{children:"./code/_scopes-and-claims-code.mdx./code/_config-organization-code.mdx"}),"\n",(0,o.jsx)(n.h3,{id:"adjuntar-token-de-acceso-a-los-encabezados-de-solicitud",children:"Adjuntar token de acceso a los encabezados de solicitud"}),"\n",(0,o.jsxs)(n.p,{children:["Coloca el token en el campo ",(0,o.jsx)(n.code,{children:"Authorization"})," de los encabezados HTTP con el formato Bearer (",(0,o.jsx)(n.code,{children:"Bearer YOUR_TOKEN"}),"), y estar\xe1s listo para continuar."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["El flujo de integraci\xf3n del Token Bearer puede variar seg\xfan el framework o solicitante que est\xe9s utilizando. Elige tu propia manera de aplicar el encabezado de solicitud ",(0,o.jsx)(n.code,{children:"Authorization"}),"."]})})]})}function R(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(C,{...e})}):C(e)}},57980:(e,n,s)=>{s.d(n,{Ay:()=>p,RM:()=>d});var o=s(86070),i=s(15658),r=s(8899),a=s(58469),c=s(35361),t=s(58787),l=s(80198);const d=[{value:"Mostrar informaci\xf3n del usuario",id:"mostrar-informaci\xf3n-del-usuario",level:3},{value:"Solicitar reclamos adicionales",id:"solicitar-reclamos-adicionales",level:3},...c.RM,...l.RM,...a.RM,{value:"Alcances y reclamos",id:"alcances-y-reclamos",level:3},...t.RM];function u(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"mostrar-informaci\xf3n-del-usuario",children:"Mostrar informaci\xf3n del usuario"}),"\n",(0,o.jsxs)(n.p,{children:["Para mostrar la informaci\xf3n del usuario, puedes usar el m\xe9todo ",(0,o.jsx)(n.code,{children:"logtoClient.getIdTokenClaims()"}),". Por ejemplo, en tu p\xe1gina de inicio:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="Home.js"',children:"const userInfo = await logtoClient.getIdTokenClaims();\n\n// Generar tabla de visualizaci\xf3n para reclamos del token de ID\nconst table = document.createElement('table');\nconst thead = document.createElement('thead');\nconst tr = document.createElement('tr');\nconst thName = document.createElement('th');\nconst thValue = document.createElement('th');\nthName.innerHTML = 'Nombre';\nthValue.innerHTML = 'Valor';\ntr.append(thName, thValue);\nthead.append(tr);\ntable.append(thead);\n\nconst tbody = document.createElement('tbody');\n\nfor (const [key, value] of Object.entries(userInfo)) {\n  const tr = document.createElement('tr');\n  const tdName = document.createElement('td');\n  const tdValue = document.createElement('td');\n  tdName.innerHTML = key;\n  tdValue.innerHTML = typeof value === 'string' ? value : JSON.stringify(value);\n  tr.append(tdName, tdValue);\n  tbody.append(tr);\n}\n\ntable.append(tbody);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"solicitar-reclamos-adicionales",children:"Solicitar reclamos adicionales"}),"\n",(0,o.jsx)(c.Ay,{method:"getIdTokenClaims()"}),"\n",(0,o.jsx)(l.Ay,{}),"\n",(0,o.jsx)(n.p,{children:"Para solicitar alcances adicionales, puedes configurar las configuraciones de Logto:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"// highlight-next-line\nimport LogtoClient, { UserScope } from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  appId: '<your-application-id>',\n  endpoint: '<your-logto-endpoint>',\n  // highlight-next-line\n  scopes: [UserScope.Email, UserScope.Phone],\n});\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Luego puedes acceder a los reclamos adicionales en el valor de retorno de ",(0,o.jsx)(n.code,{children:"logtoClient.getIdTokenClaims()"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const claims = await getIdTokenClaims();\n// Ahora puedes acceder a los reclamos adicionales `claims.email`, `claims.phone`, etc.\n"})}),"\n",(0,o.jsx)(a.Ay,{type:"method",method:"logtoClient.fetchUserInfo()",codeSnippet:(0,o.jsx)(r.A,{language:"js",children:"const userInfo = await logtoClient.fetchUserInfo();\n// Ahora puedes acceder al reclamo `userInfo.custom_data`"})}),"\n",(0,o.jsx)(n.h3,{id:"alcances-y-reclamos",children:"Alcances y reclamos"}),"\n",(0,o.jsx)(t.Ay,{})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},78551:(e,n,s)=>{s.d(n,{A:()=>a});s(30758);var o=s(13526);const i={tabItem:"tabItem_PGP0"};var r=s(86070);function a(e){let{children:n,hidden:s,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(i.tabItem,a),hidden:s,children:n})}},77501:(e,n,s)=>{s.d(n,{A:()=>A});var o=s(30758),i=s(13526),r=s(65052),a=s(25557),c=s(77469),t=s(50873),l=s(62230),d=s(60196);function u(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:s,attributes:o,default:i}}=e;return{value:n,label:s,attributes:o,default:i}}))}(s);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function h(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:s}=e;const i=(0,a.W6)(),r=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,t.aZ)(r),(0,o.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(i.location.search);n.set(r,e),i.replace({...i.location,search:n.toString()})}),[r,i])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:i}=e,r=p(e),[a,t]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=s.find((e=>e.default))??s[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:r}))),[l,u]=m({queryString:s,groupId:i}),[j,x]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,r]=(0,d.Dv)(s);return[i,(0,o.useCallback)((e=>{s&&r.set(e)}),[s,r])]}({groupId:i}),g=(()=>{const e=l??j;return h({value:e,tabValues:r})?e:null})();(0,c.A)((()=>{g&&t(g)}),[g]);return{selectedValue:a,selectValue:(0,o.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);t(e),u(e),x(e)}),[u,x,r]),tabValues:r}}var x=s(13887);const g={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var f=s(86070);function b(e){let{className:n,block:s,selectedValue:o,selectValue:a,tabValues:c}=e;const t=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),d=e=>{const n=e.currentTarget,s=t.indexOf(n),i=c[s].value;i!==o&&(l(n),a(i))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=t.indexOf(e.currentTarget)+1;n=t[s]??t[0];break}case"ArrowLeft":{const s=t.indexOf(e.currentTarget)-1;n=t[s]??t[t.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":s},n),children:c.map((e=>{let{value:n,label:s,attributes:r}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>t.push(e),onKeyDown:u,onClick:d,...r,className:(0,i.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":o===n}),children:s??n},n)}))})}function v(e){let{lazy:n,children:s,selectedValue:r}=e;const a=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,o.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function y(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,i.A)("tabs-container",g.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function A(e){const n=(0,x.A)();return(0,f.jsx)(y,{...e,children:u(e.children)},String(n))}},72668:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/extension-popup-34a0c267638724bc33b8daea59475880.webp"}}]);