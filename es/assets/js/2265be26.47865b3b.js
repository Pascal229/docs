"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[38859],{3105:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>x,contentTitle:()=>h,default:()=>f,frontMatter:()=>g,metadata:()=>o,toc:()=>j});const o=JSON.parse('{"id":"integrate-logto/interact-with-management-api/README","title":"Interact\xfaa con Management API","description":"\xbfQu\xe9 es Logto Management API?","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.md","sourceDirName":"integrate-logto/interact-with-management-api","slug":"/integrate-logto/interact-with-management-api/","permalink":"/es/integrate-logto/interact-with-management-api/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Personalizaci\xf3n de la pantalla de consentimiento","permalink":"/es/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/consent-screen-branding"},"next":{"title":"Estructura de datos de la aplicaci\xf3n","permalink":"/es/integrate-logto/application-data-structure"}}');var t=n(86070),s=n(15658);const r=n.p+"assets/images/logto-management-api-resource-14162a031698ad36ac0f8c04ff683ba2.webp",i=n.p+"assets/images/logto-management-api-details-4994334ef32791d9ebc6c9aa298c9ecd.webp";var c=n(66335),l=n(4522),d=n(25910),u=n(67037),p=n(32757),m=n(98870);const g={sidebar_position:4},h="Interact\xfaa con Management API",x={},j=[{value:"\xbfQu\xe9 es Logto Management API?",id:"qu\xe9-es-logto-management-api",level:2},{value:"C\xf3mo acceder a Logto Management API",id:"c\xf3mo-acceder-a-logto-management-api",level:2},{value:"Crear una aplicaci\xf3n M2M",id:"crear-una-aplicaci\xf3n-m2m",level:3},...m.RM,{value:"Obtener un token de acceso",id:"obtener-un-token-de-acceso",level:3},{value:"Conceptos b\xe1sicos sobre la solicitud de token de acceso",id:"conceptos-b\xe1sicos-sobre-la-solicitud-de-token-de-acceso",level:4},...c.RM,{value:"Obtener token de acceso para Logto Management API",id:"obtener-token-de-acceso-para-logto-management-api",level:4},...l.RM,{value:"Respuesta del token de acceso",id:"respuesta-del-token-de-acceso",level:4},...p.RM,{value:"Acceder a Logto Management API usando el token de acceso",id:"acceder-a-logto-management-api-usando-el-token-de-acceso",level:3},...d.RM,...u.RM,{value:"Escenarios t\xedpicos para usar Logto Management API",id:"escenarios-t\xedpicos-para-usar-logto-management-api",level:2},{value:"Implementar el perfil de usuario por tu cuenta",id:"implementar-el-perfil-de-usuario-por-tu-cuenta",level:3},{value:"B\xfasqueda avanzada de usuarios",id:"b\xfasqueda-avanzada-de-usuarios",level:3},{value:"Implementar la gesti\xf3n de organizaciones por tu cuenta",id:"implementar-la-gesti\xf3n-de-organizaciones-por-tu-cuenta",level:3},{value:"Consejos para usar Logto Management API",id:"consejos-para-usar-logto-management-api",level:2},{value:"Gestionar respuestas de API paginadas",id:"gestionar-respuestas-de-api-paginadas",level:3},{value:"Usando encabezados de enlace",id:"usando-encabezados-de-enlace",level:4},{value:"Usando el encabezado de n\xfamero total",id:"usando-el-encabezado-de-n\xfamero-total",level:4},{value:"Cambiar el n\xfamero de p\xe1gina y el tama\xf1o de p\xe1gina",id:"cambiar-el-n\xfamero-de-p\xe1gina-y-el-tama\xf1o-de-p\xe1gina",level:4},{value:"L\xedmite de tasa",id:"l\xedmite-de-tasa",level:3}];function b(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{CloudLink:n}=a;return n||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"interact\xfaa-con-management-api",children:"Interact\xfaa con Management API"})}),"\n",(0,t.jsx)(a.h2,{id:"qu\xe9-es-logto-management-api",children:"\xbfQu\xe9 es Logto Management API?"}),"\n",(0,t.jsx)(a.p,{children:"Logto Management API es un conjunto completo de APIs que brinda a los desarrolladores control total sobre su implementaci\xf3n para adaptarse a las necesidades de su producto y pila tecnol\xf3gica. Est\xe1 preconstruido, listado en la lista de recursos de API en la Logto Console, y no se puede eliminar ni modificar."}),"\n",(0,t.jsxs)(a.p,{children:["Su identificador sigue el patr\xf3n de ",(0,t.jsx)(a.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n",(0,t.jsx)("img",{alt:"Recurso de Logto Management API",src:r}),"\n",(0,t.jsx)("img",{alt:"Detalles de Logto Management API",src:i}),"\n",(0,t.jsx)(a.p,{children:"Con Logto Management API, puedes acceder a los robustos servicios de backend de Logto, que son altamente escalables y pueden ser utilizados en una multitud de escenarios. Va m\xe1s all\xe1 de lo que es posible con las capacidades de bajo c\xf3digo de la Admin Console."}),"\n",(0,t.jsx)(a.p,{children:"Algunas APIs frecuentemente utilizadas se enumeran a continuaci\xf3n:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Usuario"}),"\n",(0,t.jsx)(a.li,{children:"Aplicaci\xf3n"}),"\n",(0,t.jsx)(a.li,{children:"Registros"}),"\n",(0,t.jsx)(a.li,{children:"Roles"}),"\n",(0,t.jsx)(a.li,{children:"Recursos"}),"\n",(0,t.jsx)(a.li,{children:"Conectores"}),"\n",(0,t.jsx)(a.li,{children:"Organizaciones"}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Para obtener m\xe1s informaci\xf3n sobre las APIs disponibles, visita ",(0,t.jsx)(a.a,{href:"https://openapi.logto.io/",children:"https://openapi.logto.io/"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"c\xf3mo-acceder-a-logto-management-api",children:"C\xf3mo acceder a Logto Management API"}),"\n",(0,t.jsx)(a.h3,{id:"crear-una-aplicaci\xf3n-m2m",children:"Crear una aplicaci\xf3n M2M"}),"\n",(0,t.jsx)(a.admonition,{type:"note",children:(0,t.jsxs)(a.p,{children:["Si no est\xe1s familiarizado con el flujo de autenticaci\xf3n M2M (M\xe1quina a M\xe1quina), te recomendamos leer primero ",(0,t.jsx)(a.a,{href:"/integrate-logto/integrate-logto-into-your-application/understand-authentication-flow/#machine-to-machine-authentication-flow",children:"Comprender el flujo de autenticaci\xf3n"})," para entender los conceptos b\xe1sicos."]})}),"\n",(0,t.jsxs)(a.p,{children:["Ve a ",(0,t.jsx)(n,{to:"/applications",children:"Console > Applications"}),", selecciona el tipo de aplicaci\xf3n M2M y comienza el proceso de creaci\xf3n."]}),"\n",(0,t.jsx)(m.Ay,{}),"\n",(0,t.jsx)(a.p,{children:"En el m\xf3dulo de asignaci\xf3n de roles, puedes ver que se incluyen todos los roles M2M, y los roles indicados por un icono de Logto significan que estos roles incluyen permisos de Logto Management API."}),"\n",(0,t.jsx)(a.p,{children:"Ahora asigna roles M2M que incluyan permisos de Logto Management API para tu aplicaci\xf3n M2M."}),"\n",(0,t.jsx)(a.h3,{id:"obtener-un-token-de-acceso",children:"Obtener un token de acceso"}),"\n",(0,t.jsx)(a.h4,{id:"conceptos-b\xe1sicos-sobre-la-solicitud-de-token-de-acceso",children:"Conceptos b\xe1sicos sobre la solicitud de token de acceso"}),"\n",(0,t.jsx)(c.Ay,{}),"\n",(0,t.jsx)(a.h4,{id:"obtener-token-de-acceso-para-logto-management-api",children:"Obtener token de acceso para Logto Management API"}),"\n",(0,t.jsx)(l.Ay,{}),"\n",(0,t.jsx)(a.h4,{id:"respuesta-del-token-de-acceso",children:"Respuesta del token de acceso"}),"\n",(0,t.jsx)(a.p,{children:"Un cuerpo de respuesta de acceso exitoso ser\xeda como:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",children:'{\n  "access_token": "eyJhbG...2g", // Usa este token para acceder a Logto Management API\n  "expires_in": 3600, // Expiraci\xf3n del token en segundos\n  "token_type": "Bearer", // Tipo de autenticaci\xf3n para tu solicitud al usar el token de acceso\n  "scope": "all" // alcance `all` para Logto Management API\n}\n'})}),"\n",(0,t.jsx)(p.Ay,{}),"\n",(0,t.jsx)(a.h3,{id:"acceder-a-logto-management-api-usando-el-token-de-acceso",children:"Acceder a Logto Management API usando el token de acceso"}),"\n",(0,t.jsx)(d.Ay,{}),"\n",(0,t.jsx)(u.Ay,{}),"\n",(0,t.jsx)(a.h2,{id:"escenarios-t\xedpicos-para-usar-logto-management-api",children:"Escenarios t\xedpicos para usar Logto Management API"}),"\n",(0,t.jsx)(a.p,{children:"Nuestros desarrolladores han implementado muchas caracter\xedsticas adicionales usando Logto Management API. Creemos que nuestra API es altamente escalable y puede soportar una amplia gama de tus necesidades. Aqu\xed hay algunos ejemplos de escenarios que no son posibles con Logto Admin Console pero que se pueden lograr a trav\xe9s de Logto Management API."}),"\n",(0,t.jsx)(a.h3,{id:"implementar-el-perfil-de-usuario-por-tu-cuenta",children:"Implementar el perfil de usuario por tu cuenta"}),"\n",(0,t.jsx)(a.p,{children:"Logto actualmente no proporciona una soluci\xf3n de interfaz de usuario preconstruida para perfiles de usuario. Reconocemos que los perfiles de usuario est\xe1n estrechamente vinculados a los atributos de negocio y producto. Mientras trabajamos en determinar el mejor enfoque, sugerimos usar nuestras APIs para crear tu propia soluci\xf3n. Por ejemplo, puedes utilizar nuestra API de interacci\xf3n, API de perfil y API de c\xf3digo de verificaci\xf3n para desarrollar una soluci\xf3n personalizada que satisfaga tus necesidades."}),"\n",(0,t.jsx)(a.h3,{id:"b\xfasqueda-avanzada-de-usuarios",children:"B\xfasqueda avanzada de usuarios"}),"\n",(0,t.jsxs)(a.p,{children:["Logto Admin Console admite funciones b\xe1sicas de b\xfasqueda y filtrado. Para opciones de b\xfasqueda avanzada como b\xfasqueda difusa, coincidencia exacta y sensibilidad a may\xfasculas, consulta nuestros tutoriales y gu\xedas de ",(0,t.jsx)(a.a,{href:"/user-management/advanced-user-search",children:"B\xfasqueda avanzada de usuarios"}),"."]}),"\n",(0,t.jsx)(a.h3,{id:"implementar-la-gesti\xf3n-de-organizaciones-por-tu-cuenta",children:"Implementar la gesti\xf3n de organizaciones por tu cuenta"}),"\n",(0,t.jsxs)(a.p,{children:["Si est\xe1s utilizando la funci\xf3n de ",(0,t.jsx)(a.a,{href:"/organizations",children:"organizaciones"})," para construir tu aplicaci\xf3n multi-tenant, podr\xedas necesitar Logto Management API para tareas como invitaciones a la organizaci\xf3n y gesti\xf3n de miembros. Para tu producto SaaS, donde tienes tanto administradores como miembros en el tenant, Logto Management API puede ayudarte a crear un portal de administraci\xf3n personalizado adaptado a las necesidades de tu negocio. Consulta ",(0,t.jsx)(a.a,{href:"/end-user-flows/organization-experience/",children:"esto"})," para m\xe1s detalles."]}),"\n",(0,t.jsx)(a.h2,{id:"consejos-para-usar-logto-management-api",children:"Consejos para usar Logto Management API"}),"\n",(0,t.jsx)(a.h3,{id:"gestionar-respuestas-de-api-paginadas",children:"Gestionar respuestas de API paginadas"}),"\n",(0,t.jsx)(a.p,{children:"Algunas de las respuestas de API pueden incluir muchos resultados, los resultados se paginar\xe1n. Logto proporciona 2 tipos de informaci\xf3n de paginaci\xf3n."}),"\n",(0,t.jsx)(a.h4,{id:"usando-encabezados-de-enlace",children:"Usando encabezados de enlace"}),"\n",(0,t.jsx)(a.p,{children:"Un encabezado de respuesta paginada ser\xe1 como:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{children:'Link: <https://logto.dev/users?page=1&page_size=20>; rel="first"\n'})}),"\n",(0,t.jsx)(a.p,{children:"El encabezado de enlace proporciona la URL para la p\xe1gina anterior, siguiente, primera y \xfaltima de resultados:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:'La URL para la p\xe1gina anterior est\xe1 seguida por rel="prev".'}),"\n",(0,t.jsx)(a.li,{children:'La URL para la p\xe1gina siguiente est\xe1 seguida por rel="next".'}),"\n",(0,t.jsx)(a.li,{children:'La URL para la \xfaltima p\xe1gina est\xe1 seguida por rel="last".'}),"\n",(0,t.jsx)(a.li,{children:'La URL para la primera p\xe1gina est\xe1 seguida por rel="first".'}),"\n"]}),"\n",(0,t.jsx)(a.h4,{id:"usando-el-encabezado-de-n\xfamero-total",children:"Usando el encabezado de n\xfamero total"}),"\n",(0,t.jsxs)(a.p,{children:["Adem\xe1s de los encabezados de enlace est\xe1ndar, Logto tambi\xe9n agregar\xe1 un encabezado ",(0,t.jsx)(a.code,{children:"Total-Number"}),":"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{children:"Total-Number: 216\n"})}),"\n",(0,t.jsx)(a.p,{children:"Eso ser\xeda muy conveniente y \xfatil para mostrar n\xfameros de p\xe1gina."}),"\n",(0,t.jsx)(a.h4,{id:"cambiar-el-n\xfamero-de-p\xe1gina-y-el-tama\xf1o-de-p\xe1gina",children:"Cambiar el n\xfamero de p\xe1gina y el tama\xf1o de p\xe1gina"}),"\n",(0,t.jsx)(a.p,{children:"Hay 2 par\xe1metros de consulta opcionales:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"page"}),": indica el n\xfamero de p\xe1gina, comienza desde 1, el valor predeterminado es 1."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"page_size"}),": indica el n\xfamero de elementos por p\xe1gina, el valor predeterminado es 20."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"l\xedmite-de-tasa",children:"L\xedmite de tasa"}),"\n",(0,t.jsx)(a.admonition,{type:"note",children:(0,t.jsx)(a.p,{children:"Esto es solo para Logto Cloud."})}),"\n",(0,t.jsx)(a.p,{children:"Para garantizar la fiabilidad y seguridad de nuestros servicios para todos los usuarios, empleamos un firewall general que monitorea y gestiona el tr\xe1fico a nuestro sitio web. Aunque no imponemos un l\xedmite de tasa estricto, recomendamos que los usuarios limiten su actividad a aproximadamente 200 solicitudes cada 10 segundos para evitar activar nuestras medidas de protecci\xf3n."})]})}function f(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(b,{...e})}):b(e)}},67037:(e,a,n)=>{n.d(a,{Ay:()=>l,RM:()=>i});var o=n(86070),t=n(15658),s=n(78551),r=n(77501);const i=[];function c(e){const a={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["Usando el token de acceso solicitado con el recurso de API de Logto Management incorporado ",(0,o.jsx)(a.code,{children:"https://[your-tenant-id].logto.app/api"})," para obtener todas las aplicaciones en Logto:"]}),"\n",(0,o.jsxs)(r.A,{children:[(0,o.jsx)(s.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Reemplaza con tu endpoint de Logto\nconst accessToken = 'eyJhb...2g'; // Token de acceso\n\nconst fetchLogtoApplications = async () => {\n  return await fetch(`${logtoEndpoint}/api/applications`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,o.jsxs)(s.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.logto.endpoint/api/applications' \\\n  --header 'Authorization: Bearer eyJhbG...2g'\n"})}),(0,o.jsxs)(a.p,{children:["Recuerda reemplazar los valores reales con los tuyos propios. El valor despu\xe9s de ",(0,o.jsx)(a.code,{children:"Bearer"})," debe ser el token de acceso (JWT) que recibiste."]})]})]})]})}function l(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},25910:(e,a,n)=>{n.d(a,{Ay:()=>i,RM:()=>s});var o=n(86070),t=n(15658);const s=[];function r(e){const a={code:"code",p:"p",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["Es posible que notes que la respuesta del token tiene un campo ",(0,o.jsx)(a.code,{children:"token_type"}),", que est\xe1 fijado a ",(0,o.jsx)(a.code,{children:"Bearer"}),"."]}),"\n",(0,o.jsxs)(a.p,{children:["Por lo tanto, debes colocar el token de acceso en el campo ",(0,o.jsx)(a.code,{children:"Authorization"})," de los encabezados HTTP con el formato Bearer (",(0,o.jsx)(a.code,{children:"Bearer YOUR_TOKEN"}),") cuando est\xe9s interactuando con tu servidor de recursos de API."]})]})}function i(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}},66335:(e,a,n)=>{n.d(a,{Ay:()=>c,RM:()=>r});var o=n(86070),t=n(15658);const s=n.p+"assets/images/app-id-secret-af29845d7768be05909995293bef45d9.png",r=[];function i(e){const a={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["La aplicaci\xf3n M2M realiza una solicitud ",(0,o.jsx)(a.code,{children:"POST"})," al endpoint de token para obtener un token de acceso a\xf1adiendo los siguientes par\xe1metros utilizando el formato ",(0,o.jsx)(a.code,{children:"application/x-www-form-urlencoded"})," en el cuerpo de la entidad de la solicitud HTTP:"]}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.strong,{children:"grant_type"}),": Debe establecerse en ",(0,o.jsx)(a.code,{children:"client_credentials"})]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.strong,{children:"resource"}),": El recurso al que deseas acceder"]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.strong,{children:"scope"}),": El alcance de la solicitud de acceso"]}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:"Tambi\xe9n necesitas incluir las credenciales de tu aplicaci\xf3n M2M en el encabezado de la solicitud para que el endpoint de token autentique tu aplicaci\xf3n M2M."}),"\n",(0,o.jsxs)(a.p,{children:["Esto se logra incluyendo las credenciales de la aplicaci\xf3n en el formulario de ",(0,o.jsx)(a.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication",children:"autenticaci\xf3n b\xe1sica"})," en el encabezado de ",(0,o.jsx)(a.code,{children:"Authorization"})," de la solicitud, donde el nombre de usuario es el App ID y la contrase\xf1a es el App Secret."]}),"\n",(0,o.jsx)(a.p,{children:"Puedes encontrar el App ID y el App Secret en la p\xe1gina de detalles de tu aplicaci\xf3n M2M:"}),"\n",(0,o.jsx)("img",{alt:"App ID and App Secret",src:s,width:"600px"})]})}function c(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},4522:(e,a,n)=>{n.d(a,{Ay:()=>d,RM:()=>c});var o=n(86070),t=n(15658),s=n(78551),r=n(77501);const i=n.p+"assets/images/logto-management-api-4994334ef32791d9ebc6c9aa298c9ecd.png",c=[];function l(e){const a={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:['Logto proporciona un recurso incorporado "Logto Management API", es un recurso de solo lectura con el permiso ',(0,o.jsx)(a.code,{children:"all"})," para acceder a Logto Management API, puedes verlo en tu lista de recursos de API. El indicador de API del recurso sigue el patr\xf3n ",(0,o.jsx)(a.code,{children:"https://{your-tenant-id}.logto.app/api"}),", y este ser\xe1 tu valor de recurso utilizado en el cuerpo de la solicitud del token de acceso."]}),"\n",(0,o.jsx)("img",{alt:"Detalles de Logto Management API",src:i,width:"600px"}),"\n",(0,o.jsxs)(a.p,{children:["Antes de acceder a Logto Management API, aseg\xfarate de que tu aplicaci\xf3n M2M haya sido asignada con roles M2M que incluyan el permiso ",(0,o.jsx)(a.code,{children:"all"}),' de este recurso incorporado "Logto Management API".']}),"\n",(0,o.jsx)(a.admonition,{type:"info",children:(0,o.jsxs)(a.p,{children:['Logto tambi\xe9n proporciona un rol M2M preconfigurado "Logto Management API access" para los nuevos inquilinos creados, al cual ya se le ha asignado el permiso ',(0,o.jsx)(a.code,{children:"all"})," del recurso Logto Management API. Puedes usarlo directamente sin configurar manualmente los permisos. Este rol preconfigurado tambi\xe9n puede ser editado y eliminado seg\xfan sea necesario."]})}),"\n",(0,o.jsx)(a.p,{children:"Ahora, comp\xf3n todo lo que tenemos y env\xeda la solicitud:"}),"\n",(0,o.jsxs)(r.A,{children:[(0,o.jsx)(s.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Reemplaza con tu endpoint de Logto\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\nconst tenantId = 'your-tenant-id';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: `https://${tenantId}.logto.app/api`,\n      scope: 'all',\n    }).toString(),\n  });\n};\n"})})}),(0,o.jsxs)(s.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://${tenantId}.logto.app/api' \\\n  --data-urlencode 'scope=all'\n"})}),(0,o.jsx)(a.p,{children:"Recuerda reemplazar los valores reales con los tuyos propios."})]})]}),"\n",(0,o.jsx)(a.admonition,{type:"caution",children:(0,o.jsxs)(a.p,{children:["Para los usuarios de Logto Cloud: cuando interact\xfaes con Logto Management API, no puedes usar un dominio personalizado, utiliza el endpoint predeterminado de Logto ",(0,o.jsx)(a.code,{children:"https://{your_tenant_id}.logto.app/oidc/token"})," para otorgar tokens de acceso."]})})]})}function d(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},32757:(e,a,n)=>{n.d(a,{Ay:()=>i,RM:()=>s});var o=n(86070),t=n(15658);const s=[];function r(e){const a={admonition:"admonition",code:"code",p:"p",...(0,t.R)(),...e.components};return(0,o.jsx)(a.admonition,{type:"note",children:(0,o.jsxs)(a.p,{children:["Logto actualmente no admite que la aplicaci\xf3n M2M represente a un usuario. El ",(0,o.jsx)(a.code,{children:"sub"})," en la carga \xfatil del token de acceso ser\xe1 el ID de la aplicaci\xf3n."]})})}function i(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}},98870:(e,a,n)=>{n.d(a,{Ay:()=>l,RM:()=>i});var o=n(86070),t=n(15658);const s=n.p+"assets/images/assign-m2m-roles-modal-f4f833eaf1c4b2c59509c918d3985eee.png",r=n.p+"assets/images/assign-m2m-roles-page-6084df6c23aec9c3f331738031f197b2.png",i=[];function c(e){const a={p:"p",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.p,{children:"Durante el proceso de creaci\xf3n de la aplicaci\xf3n M2M, ser\xe1s dirigido a una p\xe1gina donde puedes asignar Roles (Roles) M2M a tus aplicaciones:"}),"\n",(0,o.jsx)("img",{alt:"Asignar roles M2M modal",src:s,width:"600px"}),"\n",(0,o.jsx)(a.p,{children:"O tambi\xe9n puedes asignar estos roles en la p\xe1gina de detalles de la aplicaci\xf3n M2M cuando ya tengas una aplicaci\xf3n M2M creada:"}),"\n",(0,o.jsx)("img",{alt:"Asignar roles M2M p\xe1gina",src:r,width:"600px"})]})}function l(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},78551:(e,a,n)=>{n.d(a,{A:()=>r});n(30758);var o=n(13526);const t={tabItem:"tabItem_PGP0"};var s=n(86070);function r(e){let{children:a,hidden:n,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,o.A)(t.tabItem,r),hidden:n,children:a})}},77501:(e,a,n)=>{n.d(a,{A:()=>y});var o=n(30758),t=n(13526),s=n(65052),r=n(25557),i=n(77469),c=n(50873),l=n(62230),d=n(60196);function u(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:a,children:n}=e;return(0,o.useMemo)((()=>{const e=a??function(e){return u(e).map((e=>{let{props:{value:a,label:n,attributes:o,default:t}}=e;return{value:a,label:n,attributes:o,default:t}}))}(n);return function(e){const a=(0,l.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function m(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function g(e){let{queryString:a=!1,groupId:n}=e;const t=(0,r.W6)(),s=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:a,groupId:n});return[(0,c.aZ)(s),(0,o.useCallback)((e=>{if(!s)return;const a=new URLSearchParams(t.location.search);a.set(s,e),t.replace({...t.location,search:a.toString()})}),[s,t])]}function h(e){const{defaultValue:a,queryString:n=!1,groupId:t}=e,s=p(e),[r,c]=(0,o.useState)((()=>function(e){let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const o=n.find((e=>e.default))??n[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:a,tabValues:s}))),[l,u]=g({queryString:n,groupId:t}),[h,x]=function(e){let{groupId:a}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(a),[t,s]=(0,d.Dv)(n);return[t,(0,o.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:t}),j=(()=>{const e=l??h;return m({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{j&&c(j)}),[j]);return{selectedValue:r,selectValue:(0,o.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,s]),tabValues:s}}var x=n(13887);const j={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var b=n(86070);function f(e){let{className:a,block:n,selectedValue:o,selectValue:r,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),d=e=>{const a=e.currentTarget,n=c.indexOf(a),t=i[n].value;t!==o&&(l(a),r(t))},u=e=>{let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;a=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;a=c[n]??c[c.length-1];break}}a?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},a),children:i.map((e=>{let{value:a,label:n,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:o===a?0:-1,"aria-selected":o===a,ref:e=>c.push(e),onKeyDown:u,onClick:d,...s,className:(0,t.A)("tabs__item",j.tabItem,s?.className,{"tabs__item--active":o===a}),children:n??a},a)}))})}function v(e){let{lazy:a,children:n,selectedValue:s}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===s));return e?(0,o.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,a)=>(0,o.cloneElement)(e,{key:a,hidden:e.props.value!==s})))})}function A(e){const a=h(e);return(0,b.jsxs)("div",{className:(0,t.A)("tabs-container",j.tabList),children:[(0,b.jsx)(f,{...a,...e}),(0,b.jsx)(v,{...a,...e})]})}function y(e){const a=(0,x.A)();return(0,b.jsx)(A,{...e,children:u(e.children)},String(a))}},15658:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>i});var o=n(30758);const t={},s=o.createContext(t);function r(e){const a=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:a},e.children)}}}]);