"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[13928],{13356:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>g,contentTitle:()=>h,default:()=>p,frontMatter:()=>d,metadata:()=>o,toc:()=>m});const o=JSON.parse('{"id":"docs/recipes/organizations/configuration","title":"Configure organizations","description":"Configure via Console","source":"@site/docs/docs/recipes/organizations/configuration.mdx","sourceDirName":"docs/recipes/organizations","slug":"/docs/recipes/organizations/configuration","permalink":"/docs/recipes/organizations/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/organizations/configuration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Understand how organizations work","permalink":"/docs/recipes/organizations/understand-how-it-works"},"next":{"title":"Impact on end-user sign-in experience","permalink":"/docs/recipes/organizations/impact-on-end-users"}}');var a=i(86070),s=i(15658),t=i(10763);const r=i.p+"assets/images/organization-create-permission-70d33bcc3f1ce8b3f649b650f14d6368.webp",l=i.p+"assets/images/organization-create-role-7d84e5ef7a749dbc4493958bedc14d50.webp",c=i.p+"assets/images/organization-role-list-3dd8832bace7c9c403eda6ce1400bb55.webp",d={sidebar_position:2},h="Configure organizations",g={},m=[{value:"Configure via Console",id:"configure-via-console",level:2},{value:"Configure organization template",id:"configure-organization-template",level:3},{value:"Create organization permission",id:"create-organization-permission",level:4},{value:"Create organization role",id:"create-organization-role",level:4},{value:"Organization role types",id:"organization-role-types",level:4},{value:"Create and manage organizations",id:"create-and-manage-organizations",level:3},{value:"Manage organization members",id:"manage-organization-members",level:3},{value:"Manage organization machine-to-machine applications",id:"manage-organization-machine-to-machine-applications",level:3},{value:"Require multi-factor authentication (MFA) for organization members",id:"require-multi-factor-authentication-mfa-for-organization-members",level:3},{value:"Configure via Management API",id:"configure-via-management-api",level:2},{value:"Example: Develop a platform or interface that enables your clients to manage identities within their organization",id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",level:3},{value:"Organization-specific branding",id:"organization-specific-branding",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"configure-organizations",children:"Configure organizations"})}),"\n",(0,a.jsx)(t.A,{cloud:!0,oss:{major:1,minor:12}}),"\n",(0,a.jsx)(n.h2,{id:"configure-via-console",children:"Configure via Console"}),"\n",(0,a.jsxs)(n.p,{children:["We'll go through the process of configuring the organizations feature via Logto Console (",(0,a.jsx)(n.a,{href:"https://cloud.logto.io/",children:"https://cloud.logto.io/"}),")."]}),"\n",(0,a.jsx)(n.h3,{id:"configure-organization-template",children:"Configure organization template"}),"\n",(0,a.jsx)(n.p,{children:"Configuring organizations can be divided into two parts: setting up organization templates and creating and managing organizations."}),"\n",(0,a.jsx)(n.p,{children:"First, navigate to the organization template in the left navigation menu. You will see that the organization template includes two parts: Organization Roles and Organization Permissions. An organization template defines shared access control policies (permissions and roles) for multiple organizations."}),"\n",(0,a.jsx)(n.h4,{id:"create-organization-permission",children:"Create organization permission"}),"\n",(0,a.jsx)(n.p,{children:"Organization permissions are a key part of organization templates. These permissions are designed specifically for organizations within your product. Here's how to manage them:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Find the organization permissions tab:"}),' Go to the "Organization permissions" tab to see your existing permissions.']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add, delete, and edit:"})," You can easily add new organization permissions, delete ones you don't need, and edit existing permissions as required.","\n"," ","\n",(0,a.jsx)("center",{children:(0,a.jsx)("img",{alt:"Organization create permission",src:r,width:720})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"create-organization-role",children:"Create organization role"}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)("img",{alt:"Organization role list",src:c,width:720})}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)("img",{alt:"Organization create role",src:l,width:720})}),"\n",(0,a.jsx)(n.p,{children:"Logto lets you define organization roles in a variety of ways to fit your system's structure:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"1. Organization permissions only"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"When to use:"})," You have separate user/system endpoints and organization endpoints."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Explanation:"})," This is the simplest approach if you clearly divide API permissions from organization permissions. Your organization roles only include the organization permissions you defined."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"2. API permissions only"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"When to use:"})," User and organization access control are handled by the same endpoints."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Explanation:"})," Choose this if you want to manage all permissions through API resources registered in Logto cloud."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"3. Combining API and organization permissions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"When to use:"})," You have separate endpoints defined for your product, but some user roles require a mix of both user-level and organization-level permissions."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Explanation:"})," This offers the most flexibility, but can also be the most complex to manage."]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"organization-role-types",children:"Organization role types"}),"\n",(0,a.jsx)(t.A,{cloud:!0,oss:{major:1,minor:18}}),"\n",(0,a.jsx)(n.p,{children:"Logto support two types of organization roles:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"User: Roles that are assigned to users."}),"\n",(0,a.jsx)(n.li,{children:"Machine-to-machine: Roles that are assigned to machine-to-machine applications."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"create-and-manage-organizations",children:"Create and manage organizations"}),"\n",(0,a.jsx)(n.p,{children:"In the organization list, you can create an organization and configure its details. On the organization details page, you can:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Modify the organization's name and description."}),"\n",(0,a.jsx)(n.li,{children:"Add members and give them organization roles."}),"\n",(0,a.jsx)(n.li,{children:"Update a user's membership status."}),"\n",(0,a.jsx)(n.li,{children:"Delete the organization."}),"\n",(0,a.jsx)(n.li,{children:"Access a guide to understand more about organizations and the organization template."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"manage-organization-members",children:"Manage organization members"}),"\n",(0,a.jsx)(n.p,{children:"Users can hold one or more roles. When adding members to an organization, you have the option to assign roles to multiple users at once. If you leave this assignment blank, the added users will not receive any roles."}),"\n",(0,a.jsx)(n.p,{children:"In the user management tab -> user details page, you can see which organizations the user belongs to and what organization roles they have."}),"\n",(0,a.jsx)(n.h3,{id:"manage-organization-machine-to-machine-applications",children:"Manage organization machine-to-machine applications"}),"\n",(0,a.jsx)(t.A,{cloud:!0,oss:{major:1,minor:18}}),"\n",(0,a.jsx)(n.p,{children:"Machine-to-machine applications can also be added to organizations. You can assign roles to machine-to-machine applications in the same way you assign roles to users."}),"\n",(0,a.jsx)(n.p,{children:"In the applications tab -> application details page, you can see which organizations the application associates with and what organization roles it has."}),"\n",(0,a.jsx)(n.h3,{id:"require-multi-factor-authentication-mfa-for-organization-members",children:"Require multi-factor authentication (MFA) for organization members"}),"\n",(0,a.jsx)(t.A,{cloud:!0,oss:{major:1,minor:18}}),"\n",(0,a.jsx)(n.p,{children:"You can require all members of an organization to enable MFA. This is a security measure to ensure that all members have an extra layer of protection when accessing the organization's resources."}),"\n",(0,a.jsx)(n.p,{children:'To enable this feature, go to the organization details page and toggle the "Multi-factor authentication (MFA)" switch.'}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"You'll need to enable at least one MFA method in order to make this feature work properly."})}),"\n",(0,a.jsx)(n.p,{children:"Once enabled, members without MFA configured will not be able to exchange organization access tokens until they set up MFA. Please note that:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This feature only checks if the user has MFA configured. It does not enforce users to use MFA when exchanging access tokens."}),"\n",(0,a.jsx)(n.li,{children:"This feature does not limit what MFA methods users can use."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"configure-via-management-api",children:"Configure via Management API"}),"\n",(0,a.jsx)(n.p,{children:"Everything you can do in Console can also be done through Management API. This includes, but not limited to:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Create, delete, or edit an organization."}),"\n",(0,a.jsx)(n.li,{children:"Manage organization template: create, delete, or edit organization permissions and roles."}),"\n",(0,a.jsx)(n.li,{children:"Add members to, or remove members from an organization."}),"\n",(0,a.jsx)(n.li,{children:"Assign or remove user's organization roles."}),"\n",(0,a.jsx)(n.li,{children:"Add machine-to-machine applications to, or remove machine-to-machine applications from an organization."}),"\n",(0,a.jsx)(n.li,{children:"Assign or remove machine-to-machine application's organization roles."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["For a complete list of capabilities, please refer to our ",(0,a.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organizations",children:"API references"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",children:"Example: Develop a platform or interface that enables your clients to manage identities within their organization"}),"\n",(0,a.jsx)(n.p,{children:"A common scenario for your product involves having both admins and members. They will manage resources and identities at different levels."}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Role"}),(0,a.jsx)(n.th,{children:"Permissions"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Admin"}),(0,a.jsx)(n.td,{children:"Able to invite users to and remove users from the organization."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Member"}),(0,a.jsx)(n.td,{children:"Only able to invite users to the organization."})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"So we can define the following organization template:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Organization permissions: ",(0,a.jsx)(n.code,{children:"invite:users"}),", ",(0,a.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Organization roles:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"admin"})," with permissions ",(0,a.jsx)(n.code,{children:"invite:users"})," and ",(0,a.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"member"})," with permission ",(0,a.jsx)(n.code,{children:"invite:users"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You can use ",(0,a.jsx)(n.code,{children:"POST /organization-scopes"})," in Management API to create the organization permissions first, then use ",(0,a.jsx)(n.code,{children:"POST /organization-roles"})," to create roles."]}),"\n",(0,a.jsx)(n.p,{children:"After organization template is set, you may also create two APIs in your service that call Management API under the hood for inviting and removing users in a specific organization. The APIs in your service should check organization access token to ensure the user has the right access. See Organization RBAC for details."}),"\n",(0,a.jsx)(n.h2,{id:"organization-specific-branding",children:"Organization-specific branding"}),"\n",(0,a.jsx)(t.A,{cloud:!0,oss:{major:1,minor:19}}),"\n",(0,a.jsxs)(n.p,{children:["To dynamically show your client\u2019s organization logo in the sign-in experience, you can upload the organization logos in the organization settings page. See ",(0,a.jsx)(n.a,{href:"/docs/recipes/customize-sie/match-your-brand#organization-specific-logos",children:"Organization-specific logos"})," for more details."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},10763:(e,n,i)=>{i.d(n,{A:()=>t});const o="availability_kRMk";var a=i(86070);const s=e=>"comingSoon"===e?"coming soon-blue":"boolean"==typeof e?e?"\u2713 available-4EA254":"not applicable-78767F":`since v${e.major}.${e.minor}-4EA254`,t=e=>{let{cloud:n,oss:i}=e;return(0,a.jsxs)("div",{className:o,children:[(0,a.jsx)("img",{alt:"Cloud availability",src:`https://img.shields.io/badge/Cloud-${s(n)}`}),(0,a.jsx)("img",{alt:"OSS availability",src:`https://img.shields.io/badge/OSS-${s(i)}`})]})}},15658:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var o=i(30758);const a={},s=o.createContext(a);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);