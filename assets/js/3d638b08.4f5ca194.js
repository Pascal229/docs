"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[29397],{58331:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"docs/recipes/multi-factor-auth/configure-mfa","title":"Configure MFA","description":"Configure MFA in Logto","source":"@site/docs/docs/recipes/multi-factor-auth/configure-mfa.md","sourceDirName":"docs/recipes/multi-factor-auth","slug":"/docs/recipes/multi-factor-auth/configure-mfa","permalink":"/docs/recipes/multi-factor-auth/configure-mfa","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/multi-factor-auth/configure-mfa.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udee1\ufe0f Multi-factor authentication","permalink":"/docs/recipes/multi-factor-auth/"},"next":{"title":"Authenticator app OTP","permalink":"/docs/recipes/multi-factor-auth/authenticator-app-otp"}}');var t=i(86070),r=i(15658);const o={sidebar_position:1},a="Configure MFA",c={},l=[{value:"Configure MFA in Logto",id:"configure-mfa-in-logto",level:2},{value:"Universal authentication flows for MFA",id:"universal-authentication-flows-for-mfa",level:2},{value:"MFA set-up flows",id:"mfa-set-up-flows",level:3},{value:"MFA sign-in flow",id:"mfa-sign-in-flow",level:3}];function h(e){const s={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"configure-mfa",children:"Configure MFA"})}),"\n",(0,t.jsx)(s.h2,{id:"configure-mfa-in-logto",children:"Configure MFA in Logto"}),"\n",(0,t.jsx)(s.p,{children:"To configure your MFA in the Logto Console, follow these steps:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:'Navigate to the "Multi-factor auth" in the Logto Console.'}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Enable the Factors for 2-step verification"})," available for users. You have the following options:","\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Primary factors"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"../authenticator-app-otp",children:"Authenticator App OTP"}),": This is the most common and widely accepted method."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"../webauthn",children:"WebAuthn (Passkeys)"}),": A high-security option suitable for web products supporting device biometrics or security keys, etc., ensuring robust protection."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Backup factors"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"../backup-codes",children:"Backup codes"}),": This serves as a backup option when users can't verify any of the primary factors mentioned above. Enabling this option reduces friction for users' access successfully."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Select a 2-step verification policy"})," after enabling factors. There are two choices:","\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"User-controlled MFA"}),": Users can enable or disable MFA on their own.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"After saving changes, during new users\u2019 sign-up or old users\u2019 first sign-in, users can choose to set up MFA voluntarily or skip it, and this set-up flow will only occur once per user."}),"\n",(0,t.jsxs)(s.li,{children:["Or the user can enable/disable it in the User Account Settings of your apps which can be integrated by Logto ",(0,t.jsx)(s.a,{href:"/docs/recipes/interact-with-management-api/",children:"Management API"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Mandatory MFA"}),": Users are always required to use MFA at sign-in.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Users must set up MFA the first time at sign-in or sign-up, and use it for all future sign-ins."}),"\n",(0,t.jsxs)(s.li,{children:["Users can also change it in the User Account Settings of your apps which can be integrated by Logto ",(0,t.jsx)(s.a,{href:"/docs/recipes/interact-with-management-api/",children:"Management API"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Configure MFA",src:i(21447).A+"",width:"3010",height:"1456"})}),"\n",(0,t.jsx)(s.h2,{id:"universal-authentication-flows-for-mfa",children:"Universal authentication flows for MFA"}),"\n",(0,t.jsx)(s.p,{children:"When MFA is enabled, the second-step verification flow will typically operate after the first-step verification. The MFA set-up flow will also take place after users have set up their first verification factors, such as a password or email verification code."}),"\n",(0,t.jsx)(s.h3,{id:"mfa-set-up-flows",children:"MFA set-up flows"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Users will set up the primary factors (Authenticator app OTP or Passkeys) after registering or signing in with the first factor.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"If multiple primary factors are provided, users need to select their preferred primary factor and set it up."}),"\n",(0,t.jsx)(s.li,{children:"If only a single primary factor is provided, users will be asked to set it up directly."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:"Users can save backup codes if this option is enabled."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"If the Mandatory MFA policy is configured, users must set up MFA. If the user-controlled MFA policy is configured, users can skip these flows, and they will only occur once."}),"\n",(0,t.jsx)(s.p,{children:"If MFA is removed for some users, don't worry. Logto will prompt them to set up MFA again during their next sign-in."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"MFA set-up flows",src:i(95631).A+"",width:"4108",height:"3018"})}),"\n",(0,t.jsx)(s.h3,{id:"mfa-sign-in-flow",children:"MFA sign-in flow"}),"\n",(0,t.jsx)(s.p,{children:"Users who have already set up MFA will be asked to verify the second factor after verifying the first factor during sign-in. The verification method will depend on the configuration in the Logto Console and the user settings."}),"\n",(0,t.jsx)(s.p,{children:"If a user has set up only one factor, they will verify it directly."}),"\n",(0,t.jsx)(s.p,{children:"If a user has set up multiple factors as 2FA, they will need to choose one to verify. For user convenience, during the next sign-in, they will be directly redirected to the last-used factor for a faster sign-in process."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"MFA sign-in flow",src:i(50847).A+"",width:"4108",height:"2546"})})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},21447:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/configure-mfa-0cb50b342c37a3c463725af83142fa49.webp"},95631:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/mfa-set-up-flows-4285dcb004dc2186db1436141a68acb7.webp"},50847:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/mfa-sign-in-flow-6aa61ab4ec6e98ef2ad6148017dfedd9.webp"},15658:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>a});var n=i(30758);const t={},r=n.createContext(t);function o(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);