---
sidebar_position: 2
---

# SAML アサーション属性を設定する

SAML 属性は、認証されたユーザーに関する特定の情報を運ぶ SAML アサーションの主要なコンポーネントです。これらの属性には、ユーザー識別子、ロール、権限 (Permissions)、およびサービスプロバイダー (SP) が認可 (Authorization) やパーソナライズの目的で必要とするその他の関連ユーザーデータが含まれることがあります。

## SAML 属性の理解 \{#understanding-saml-attributes}

SAML 認証 (Authentication) では：

- 属性はユーザー情報を含む名前と値のペアです
- これらはアイデンティティプロバイダー (Logto) からサービスプロバイダーに送信される SAML アサーションに含まれます
- これらはサービスプロバイダーがユーザーアクセスとパーソナライズに関する情報に基づいた決定を行うのに役立ちます

![SAML アプリ属性マッピング](./assets/attribute-mapping.png)

## Logto における属性マッピング \{#attribute-mapping-in-logto}

属性マッピングを使用すると、Logto からのユーザー情報を SAML アサーション内の特定の属性にどのようにマッピングするかを定義できます。このマッピングにより、サービスプロバイダーが期待される形式と属性名でユーザー情報を受け取ることが保証されます。

属性マッピングを設定する際には：

1. Logto から SAML アサーションに含めるべきユーザーのプロパティを指定します
2. サービスプロバイダーが期待するカスタム属性名を定義します
3. マッピングされた属性は、認証 (Authentication) 中に自動的に SAML アサーションに含まれます

### 一般的な属性 \{#common-attributes}

一般的に使用される SAML 属性には次のものがあります：

- Sub (ユーザー ID)
- Email
- 組織 (Organizations)
- Name
- Preferred username

属性マッピングを適切に設定することで、サービスプロバイダーがユーザーに適切なアクセスとパーソナライズを提供するために必要なすべてのユーザー情報を受け取ることが保証されます。

Logto で利用可能なすべてのユーザー情報を、属性マッピング設定を使用して SP の期待する属性にマッピングできます。