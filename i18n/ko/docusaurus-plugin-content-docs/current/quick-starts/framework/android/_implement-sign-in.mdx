import redirectUriFigure from '../../assets/android-redirect-uri.png';
import ConfigureRedirectUri from '../../fragments/_configure-redirect-uri.mdx';

시작하기 전에, 애플리케이션을 위해 Admin Console 에서 리디렉션 URI 를 추가해야 합니다.

Android 에서 리디렉션 URI 는 다음 패턴을 따릅니다: `$(LOGTO_REDIRECT_SCHEME)://$(YOUR_APP_PACKAGE)/callback`:

- `LOGTO_REDIRECT_SCHEME`는 역도메인 형식의 사용자 정의 스킴이어야 합니다.
- `YOUR_APP_PACKAGE`는 앱 패키지 이름입니다.

`io.logto.android`를 사용자 정의 `LOGTO_REDIRECT_SCHEME`로, `io.logto.sample`을 앱 패키지 이름으로 가정하면, 리디렉션 URI 는 `io.logto.android://io.logto.sample/callback`이 되어야 합니다.

<ConfigureRedirectUri
  figureSrc={redirectUriFigure}
  redirectUri="io.logto.android://io.logto.sample/callback"
/>

리디렉션 URI 가 구성된 후, `LogtoViewModel.kt`에 `signIn` 메서드를 추가하여 Logto 로그인 페이지를 호출하는 `logtoClient.signIn` API 를 호출합니다:

```kotlin
//...with other imports
class LogtoViewModel(application: Application) : AndroidViewModel(application) {
    // ...other codes
    fun signIn(context: Activity) {
        logtoClient.signIn(context, "io.logto.android://io.logto.sample/callback") { logtoException ->
            logtoException?.let { println(it) }
        }
    }
}
```

이제 `MainActivity.kt`에서 로그인 버튼에 대한 클릭 리스너를 설정하여 `signIn` 메서드를 호출합니다:

```kotlin
//...with other imports
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        //...other codes

        // 레이아웃에 `sign_in_button`이라는 ID 를 가진 버튼이 있다고 가정합니다
        val signInButton = findViewById<Button>(R.id.sign_in_button)
        signInButton.setOnClickListener {
            logtoViewModel.signIn(this)
        }
    }
}
```

버튼을 클릭하면, Logto SDK 는 Logto 로그인 페이지로 이동합니다.
