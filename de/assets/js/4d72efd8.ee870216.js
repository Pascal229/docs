"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[85366],{53008:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"user-management/user-migration","title":"Benutzermigration","description":"Logto unterst\xfctzt die manuelle Migration bestehender Benutzer von einer anderen Plattform. Dieser Leitfaden zeigt dir, wie du bestehende Benutzer \xfcber die Management API importierst und welche Dinge du vor der Migration beachten solltest.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/user-management/user-migration.mdx","sourceDirName":"user-management","slug":"/user-management/user-migration","permalink":"/de/user-management/user-migration","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/user-management/user-migration.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Pers\xf6nliches Zugangstoken","permalink":"/de/user-management/personal-access-token"},"next":{"title":"Benutzerverwaltung","permalink":"/de/user-management/"}}');var i=t(86070),s=t(15658);const a={sidebar_position:5},o="Benutzermigration",d={},u=[{value:"Benutzerschema",id:"benutzerschema",level:2},{value:"Passwort-Hashing",id:"passwort-hashing",level:2},{value:"Schritte zur Migration",id:"schritte-zur-migration",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"benutzermigration",children:"Benutzermigration"})}),"\n",(0,i.jsx)(n.p,{children:"Logto unterst\xfctzt die manuelle Migration bestehender Benutzer von einer anderen Plattform. Dieser Leitfaden zeigt dir, wie du bestehende Benutzer \xfcber die Management API importierst und welche Dinge du vor der Migration beachten solltest."}),"\n",(0,i.jsx)(n.h2,{id:"benutzerschema",children:"Benutzerschema"}),"\n",(0,i.jsxs)(n.p,{children:["Bevor wir beginnen, werfen wir einen Blick auf das ",(0,i.jsx)(n.a,{href:"/user-management/user-data/#user-profile",children:"Benutzerschema"})," in Logto. Es gibt 3 Teile des Benutzerschemas, die du beachten solltest:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Grundlegende Daten"}),": sind die Basisinformationen aus dem Benutzerprofil, du kannst die Daten aus deinem bestehenden Benutzerprofil abgleichen."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Benutzerdefinierte Daten"}),": speichert zus\xe4tzliche Benutzerinformationen, du kannst dies verwenden, um Dateien zu speichern, die nicht mit den grundlegenden Daten \xfcbereinstimmen."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Soziale Identit\xe4ten"}),": speichert die Benutzerinformationen, die aus der sozialen Anmeldung abgerufen wurden."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Du kannst eine Zuordnung erstellen, um die Benutzerinformationen aus deinem bestehenden Benutzerprofil mit ",(0,i.jsx)(n.strong,{children:"grundlegenden Daten"})," und ",(0,i.jsx)(n.strong,{children:"benutzerdefinierten Daten"})," abzugleichen. F\xfcr die soziale Anmeldung ben\xf6tigst du zus\xe4tzliche Schritte, um die sozialen Identit\xe4ten zu importieren. Bitte beziehe dich auf die API von ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-createuseridentity",children:"Soziale Identit\xe4t mit Benutzer verkn\xfcpfen"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"passwort-hashing",children:"Passwort-Hashing"}),"\n",(0,i.jsxs)(n.p,{children:["Logto verwendet ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Argon2",children:"Argon2"})," zum Hashen des Benutzerpassworts und unterst\xfctzt auch andere Algorithmen wie ",(0,i.jsx)(n.code,{children:"MD5"}),", ",(0,i.jsx)(n.code,{children:"SHA1"}),", ",(0,i.jsx)(n.code,{children:"SHA256"})," und ",(0,i.jsx)(n.code,{children:"Bcrypt"})," f\xfcr die Bequemlichkeit der Migration. Diese Algorithmen gelten als unsicher, die entsprechenden Passwort-Hashes werden bei der ersten erfolgreichen Anmeldung des Benutzers auf Argon2 migriert."]}),"\n",(0,i.jsxs)(n.p,{children:["Wenn du Unterst\xfctzung f\xfcr einen bestimmten Hashing-Algorithmus ben\xf6tigst, ",(0,i.jsx)(n.a,{href:"https://logto.io/contact",children:"lass es uns bitte wissen"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"schritte-zur-migration",children:"Schritte zur Migration"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Vorbereitung der Benutzerdaten"}),"\nDu solltest zuerst die Benutzerdaten von deiner bestehenden Plattform exportieren und dann die Benutzerinformationen auf das Logto-Benutzerschema abbilden. Wir empfehlen dir, die abgebildeten Daten im JSON-Format vorzubereiten. Hier ist ein Beispiel f\xfcr die Benutzerdaten:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "username": "user1",\n    "passwordDigest": "password-encrypted",\n    "passwordAlgorithm": "SHA256"\n  },\n  {\n    "username": "user2",\n    "passwordDigest": "password-encrypted",\n    "passwordAlgorithm": "SHA256"\n  }\n]\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Erstellen eines Logto-Tenants"}),"\nDu musst einen Tenant in Logto einrichten. Du kannst entweder Logto Cloud oder Logto OSS verwenden. Wenn du dies noch nicht getan hast, beziehe dich bitte auf den Leitfaden ",(0,i.jsx)(n.a,{href:"/introduction/set-up-logto-cloud/#create-logto-tenant",children:"Logto Cloud einrichten"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Einrichtung der Verbindung zur Management API"}),"\nWir werden die Management API verwenden, um die Benutzerdaten zu importieren. Du kannst dich auf die ",(0,i.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api",children:"Management API"})," beziehen, um zu erfahren, wie du die Verbindung in deiner Entwicklungsumgebung einrichtest."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Import der Benutzerdaten"}),"\nEs wird empfohlen, ein Skript vorzubereiten, um die Benutzerdaten einzeln zu importieren. Wir werden die ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-createuser",children:"Benutzer erstellen"})," API aufrufen, um die Benutzerdaten zu importieren. Hier ist ein Beispiel f\xfcr das Skript:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const users = require('./users.json');\n\nconst importUsers = async () => {\n  for (const user of users) {\n    try {\n      await fetch('https://[tenant_id].logto.app/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer [your-access-token]',\n        },\n        body: JSON.stringify(user),\n      });\n      // Pause einlegen, um das Ratenlimit zu vermeiden\n      await new Promise((resolve) => setTimeout(resolve, 200));\n    } catch (error) {\n      console.error(`Fehler beim Importieren des Benutzers ${user.username}: ${error.message}`);\n    }\n  }\n};\n\nimportUsers();\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Bitte beachte, dass der API-Endpunkt ein Ratenlimit hat. Du solltest eine Pause zwischen jeder Anfrage einlegen, um das Ratenlimit zu vermeiden. Bitte \xfcberpr\xfcfe unsere Seite zu ",(0,i.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/#rate-limit",children:"Ratenlimits"})," f\xfcr Details."]}),"\n",(0,i.jsxs)(n.p,{children:["Wenn du eine gro\xdfe Menge an Benutzerdaten (100k+ Benutzer) hast, kannst du ",(0,i.jsx)(n.a,{href:"https://logto.io/contact",children:"uns kontaktieren"}),", um das Ratenlimit zu erh\xf6hen."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},15658:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(30758);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);