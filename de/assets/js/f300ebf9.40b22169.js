"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[67412],{46052:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>d,default:()=>l,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"developers/webhooks/secure-webhooks","title":"Sichere Webhooks","description":"Sobald dein Server bereit ist, Webhook-Anfragen zu empfangen, m\xf6chtest du sicherstellen, dass er die Anfragen sicher verarbeiten kann. Logto generiert eine Signatur f\xfcr jede Webhook-Anfrage-Payload, die es dir erm\xf6glicht zu \xfcberpr\xfcfen, dass die Anfrage von Logto stammt.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/developers/webhooks/secure-webhooks.mdx","sourceDirName":"developers/webhooks","slug":"/developers/webhooks/secure-webhooks","permalink":"/de/developers/webhooks/secure-webhooks","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/developers/webhooks/secure-webhooks.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"secure-webhooks","title":"Sichere Webhooks","sidebar_label":"Sichere Webhooks","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Webhooks-Anfrage","permalink":"/de/developers/webhooks/webhooks-request"},"next":{"title":"Audit-Logs","permalink":"/de/developers/audit-logs"}}');var s=n(86070),i=n(15658);const t={id:"secure-webhooks",title:"Sichere Webhooks",sidebar_label:"Sichere Webhooks",sidebar_position:5},d="Sichere Webhooks",a={},c=[{value:"Erhalte den Signierschl\xfcssel",id:"erhalte-den-signierschl\xfcssel",level:2},{value:"\xdcberpr\xfcfe die Signatur",id:"\xfcberpr\xfcfe-die-signatur",level:2}];function h(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components},{CloudLink:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"sichere-webhooks",children:"Sichere Webhooks"})}),"\n",(0,s.jsx)(r.p,{children:"Sobald dein Server bereit ist, Webhook-Anfragen zu empfangen, m\xf6chtest du sicherstellen, dass er die Anfragen sicher verarbeiten kann. Logto generiert eine Signatur f\xfcr jede Webhook-Anfrage-Payload, die es dir erm\xf6glicht zu \xfcberpr\xfcfen, dass die Anfrage von Logto stammt."}),"\n",(0,s.jsx)(r.h2,{id:"erhalte-den-signierschl\xfcssel",children:"Erhalte den Signierschl\xfcssel"}),"\n",(0,s.jsxs)(r.p,{children:["Du musst den Signierschl\xfcssel von der Webhook-Detailseite in der ",(0,s.jsx)(n,{to:"/webhooks",children:"Admin-Konsole"})," abrufen, um die Signatur zu \xfcberpr\xfcfen."]}),"\n",(0,s.jsx)(r.h2,{id:"\xfcberpr\xfcfe-die-signatur",children:"\xdcberpr\xfcfe die Signatur"}),"\n",(0,s.jsxs)(r.p,{children:["Extrahiere die Signatur aus dem ",(0,s.jsx)(r.code,{children:"logto-signature-sha-256"})," Header der Webhook-Anfrage."]}),"\n",(0,s.jsx)(r.p,{children:"Danach solltest du eine Signatur mit deinem Signierschl\xfcssel und dem Webhook-Anfragek\xf6rper generieren und sicherstellen, dass das Ergebnis mit der Signatur von Logto \xfcbereinstimmt."}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:"Verwende den rohen K\xf6rper der Webhook-Anfrage f\xfcr die Signaturerstellung; vermeide die Verwendung des geparsten K\xf6rpers, da Server ihn m\xf6glicherweise vorverarbeiten, bevor er deinen Webhook-Endpunkt-Handler erreicht."})}),"\n",(0,s.jsx)(r.p,{children:"Logto verwendet einen HMAC-Hex-Digest, um die Signatur zu berechnen."}),"\n",(0,s.jsx)(r.p,{children:"Hier ist ein Beispiel, wie man die Signatur in Node.js \xfcberpr\xfcft:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"import { createHmac } from 'node:crypto';\n\nexport const verify = (signingKey: string, rawBody: Buffer[], expectedSignature: string) => {\n  const hmac = createHmac('sha256', signingKey);\n  hmac.update(rawBody);\n  const signature = hmac.digest('hex');\n  return signature === expectedSignature;\n};\n"})})]})}function l(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},15658:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>d});var o=n(30758);const s={},i=o.createContext(s);function t(e){const r=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(i.Provider,{value:r},e.children)}}}]);