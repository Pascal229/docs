"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[31490],{84475:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>s});var r=n(86070),i=n(15658);const s=[];function t(e){const o={p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.p,{children:["Vamos mudar para a p\xe1gina de detalhes do Aplicativo no Logto Console. Adicione um URI de redirecionamento ",(0,r.jsx)("code",{children:e.redirectUri}),' e clique em "Salvar altera\xe7\xf5es".']}),"\n",(0,r.jsx)("img",{alt:"URI de redirecionamento no Logto Console",src:e.figureSrc,width:"600px"})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},68445:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>s});var r=n(86070),i=n(15658);const s=[];function t(e){const{Url:o}={...(0,i.R)(),...e.components};return o||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{href:"/end-user-flows",children:" Fluxos do usu\xe1rio final: fluxos de autentica\xe7\xe3o, fluxos de conta e fluxos de organiza\xe7\xe3o "}),"\n",(0,r.jsx)(o,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,r.jsx)(o,{href:"/authorization/api-resources/protect-your-api",children:" Proteger sua API "})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},86938:(e,o,n)=>{n.d(o,{Ay:()=>d,RM:()=>t});var r=n(86070),i=n(15658);const s=n.p+"assets/images/app-secret-2b2c12ae8557fbcf3b283bf86f3ac6db.png",t=[];function a(e){const o={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(o.admonition,{type:"tip",children:[(0,r.jsx)("p",{children:(0,r.jsx)(o.p,{children:'Voc\xea pode encontrar e copiar o "App Secret" na p\xe1gina de detalhes do aplicativo no Admin Console:'})}),(0,r.jsx)("img",{alt:"App Secret",src:s,width:"586px"})]})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},75395:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>s});var r=n(86070),i=n(15658);const s=[];function t(e){const o={a:"a",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components},{Details:n}=o;return n||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Sobre o login baseado em redirecionamento"}),(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsxs)(o.li,{children:["Este processo de autentica\xe7\xe3o segue o protocolo ",(0,r.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", e o Logto aplica medidas de seguran\xe7a rigorosas para proteger o login do usu\xe1rio."]}),"\n",(0,r.jsx)(o.li,{children:"Se voc\xea tiver v\xe1rios aplicativos, pode usar o mesmo provedor de identidade (Logto). Uma vez que o usu\xe1rio faz login em um aplicativo, o Logto completar\xe1 automaticamente o processo de login quando o usu\xe1rio acessar outro aplicativo."}),"\n"]}),(0,r.jsxs)(o.p,{children:["Para saber mais sobre a l\xf3gica e os benef\xedcios do login baseado em redirecionamento, veja ",(0,r.jsx)(o.a,{href:"/concepts/sign-in-experience",children:"Experi\xeancia de login do Logto explicada"}),"."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},18445:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>s});var r=n(86070),i=n(15658);const s=[];function t(e){const o={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"Aqui est\xe1 a lista de Escopos (Scopes) suportados e as Reivindica\xe7\xf5es (Claims) correspondentes:"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"openid"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(o.tbody,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"sub"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"O identificador \xfanico do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]})})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"profile"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"name"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"O nome completo do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"username"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"O nome de usu\xe1rio do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"picture"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"URL da foto de perfil do Usu\xe1rio Final. Este URL DEVE referir-se a um arquivo de imagem (por exemplo, um arquivo de imagem PNG, JPEG ou GIF), em vez de uma p\xe1gina da Web contendo uma imagem. Note que este URL DEVE referenciar especificamente uma foto de perfil do Usu\xe1rio Final adequada para exibi\xe7\xe3o ao descrever o Usu\xe1rio Final, em vez de uma foto arbitr\xe1ria tirada pelo Usu\xe1rio Final."}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"created_at"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"number"})}),(0,r.jsx)(o.td,{children:"Hora em que o Usu\xe1rio Final foi criado. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"updated_at"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"number"})}),(0,r.jsx)(o.td,{children:"Hora em que as informa\xe7\xf5es do Usu\xe1rio Final foram atualizadas pela \xfaltima vez. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsxs)(o.p,{children:["Outras ",(0,r.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reivindica\xe7\xf5es padr\xe3o"})," incluem ",(0,r.jsx)(o.code,{children:"family_name"}),", ",(0,r.jsx)(o.code,{children:"given_name"}),", ",(0,r.jsx)(o.code,{children:"middle_name"}),", ",(0,r.jsx)(o.code,{children:"nickname"}),", ",(0,r.jsx)(o.code,{children:"preferred_username"}),", ",(0,r.jsx)(o.code,{children:"profile"}),", ",(0,r.jsx)(o.code,{children:"website"}),", ",(0,r.jsx)(o.code,{children:"gender"}),", ",(0,r.jsx)(o.code,{children:"birthdate"}),", ",(0,r.jsx)(o.code,{children:"zoneinfo"})," e ",(0,r.jsx)(o.code,{children:"locale"})," tamb\xe9m ser\xe3o inclu\xeddas no escopo ",(0,r.jsx)(o.code,{children:"profile"})," sem a necessidade de solicitar o endpoint userinfo. Uma diferen\xe7a em rela\xe7\xe3o \xe0s reivindica\xe7\xf5es acima \xe9 que essas reivindica\xe7\xf5es s\xf3 ser\xe3o retornadas quando seus valores n\xe3o estiverem vazios, enquanto as reivindica\xe7\xf5es acima retornar\xe3o ",(0,r.jsx)(o.code,{children:"null"})," se os valores estiverem vazios."]}),"\n",(0,r.jsx)(o.admonition,{type:"note",children:(0,r.jsxs)(o.p,{children:["Ao contr\xe1rio das reivindica\xe7\xf5es padr\xe3o, as reivindica\xe7\xf5es ",(0,r.jsx)(o.code,{children:"created_at"})," e ",(0,r.jsx)(o.code,{children:"updated_at"})," est\xe3o usando milissegundos em vez de segundos."]})}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"email"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"email"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"O endere\xe7o de email do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"email_verified"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"boolean"})}),(0,r.jsx)(o.td,{children:"Se o endere\xe7o de email foi verificado"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"phone"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"phone_number"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string"})}),(0,r.jsx)(o.td,{children:"O n\xfamero de telefone do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"phone_number_verified"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"boolean"})}),(0,r.jsx)(o.td,{children:"Se o n\xfamero de telefone foi verificado"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"address"})})}),"\n",(0,r.jsxs)(o.p,{children:["Por favor, consulte o ",(0,r.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para os detalhes da reivindica\xe7\xe3o de endere\xe7o."]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"custom_data"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(o.tbody,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"custom_data"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"object"})}),(0,r.jsx)(o.td,{children:"Os dados personalizados do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"Sim"})]})})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"identities"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"identities"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"object"})}),(0,r.jsx)(o.td,{children:"As identidades vinculadas do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"Sim"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"sso_identities"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"array"})}),(0,r.jsx)(o.td,{children:"As identidades SSO vinculadas do usu\xe1rio"}),(0,r.jsx)(o.td,{children:"Sim"})]})]})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"organizations"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string[]"})}),(0,r.jsx)(o.td,{children:"Os IDs das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,r.jsx)(o.td,{children:"N\xe3o"})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"organization_data"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"object[]"})}),(0,r.jsx)(o.td,{children:"Os dados das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,r.jsx)(o.td,{children:"Sim"})]})]})]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.strong,{children:(0,r.jsx)(o.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"Nome da Reivindica\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Tipo"}),(0,r.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(o.tbody,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"organization_roles"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.code,{children:"string[]"})}),(0,r.jsxs)(o.td,{children:["Os pap\xe9is da organiza\xe7\xe3o aos quais o usu\xe1rio pertence com o formato ",(0,r.jsx)(o.code,{children:"<organization_id>:<role_name>"})]}),(0,r.jsx)(o.td,{children:"N\xe3o"})]})})]}),"\n",(0,r.jsx)(o.hr,{}),"\n",(0,r.jsxs)(o.p,{children:['Considerando o desempenho e o tamanho dos dados, se "Precisa de userinfo?" for "Sim", isso significa que a reivindica\xe7\xe3o n\xe3o aparecer\xe1 no Token de ID, mas ser\xe1 retornada na resposta do ',(0,r.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),"."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},5800:(e,o,n)=>{n.d(o,{Ay:()=>d,RM:()=>t});var r=n(86070),i=n(15658),s=n(18445);const t=[...s.RM];function a(e){const o={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.p,{children:["Logto usa as ",(0,r.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"conven\xe7\xf5es de escopos e reivindica\xe7\xf5es"})," do OIDC para definir os escopos e reivindica\xe7\xf5es para recuperar informa\xe7\xf5es do usu\xe1rio do Token de ID e do ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' do OIDC. Tanto "escopo" quanto "reivindica\xe7\xe3o" s\xe3o termos das especifica\xe7\xf5es OAuth 2.0 e OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Em resumo, quando voc\xea solicita um escopo, voc\xea obter\xe1 as reivindica\xe7\xf5es correspondentes nas informa\xe7\xf5es do usu\xe1rio. Por exemplo, se voc\xea solicitar o escopo `email`, voc\xea obter\xe1 os dados `email` e `email_verified` do usu\xe1rio."}),(0,r.jsx)("p",{children:"Por padr\xe3o, o Logto SDK sempre solicitar\xe1 tr\xeas escopos: `openid`, `profile` e `offline_access`, e n\xe3o h\xe1 como remover esses escopos padr\xe3o. Mas voc\xea pode adicionar mais escopos ao configurar o Logto:"}),e.configScopesCode]}),"\n",(0,r.jsx)(s.Ay,{})]})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},84939:(e,o,n)=>{n.d(o,{Ay:()=>d,Ip:()=>s,RM:()=>t});var r=n(86070),i=n(15658);const s="http://localhost:3000/",t=[];function a(e){const o={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,r.jsx)(o.admonition,{type:"note",children:(0,r.jsxs)(o.p,{children:["Nos trechos de c\xf3digo a seguir, assumimos que seu aplicativo est\xe1 sendo executado em ",(0,r.jsx)("code",{children:s}),"."]})})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},41417:(e,o,n)=>{n.d(o,{Ay:()=>d,RM:()=>t});var r=n(86070),i=n(15658),s=n(75395);const t=[...s.RM];function a(e){const o={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"Antes de mergulharmos nos detalhes, aqui est\xe1 uma vis\xe3o geral r\xe1pida da experi\xeancia do usu\xe1rio final. O processo de login pode ser simplificado da seguinte forma:"}),"\n",(0,r.jsx)(o.mermaid,{value:"graph LR\n    A(Seu aplicativo) --\x3e|1. Invocar login| B(Logto)\n    B --\x3e|2. Concluir login| A"}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsx)(o.li,{children:"Seu aplicativo invoca o m\xe9todo de login."}),"\n",(0,r.jsx)(o.li,{children:"O usu\xe1rio \xe9 redirecionado para a p\xe1gina de login do Logto. Para aplicativos nativos, o navegador do sistema \xe9 aberto."}),"\n",(0,r.jsx)(o.li,{children:"O usu\xe1rio faz login e \xe9 redirecionado de volta para o seu aplicativo (configurado como o URI de redirecionamento)."}),"\n"]}),"\n",(0,r.jsx)(s.Ay,{}),"\n",(0,r.jsx)(o.hr,{})]})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},5853:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>w,contentTitle:()=>q,default:()=>E,frontMatter:()=>_,metadata:()=>r,toc:()=>I});const r=JSON.parse('{"id":"quick-starts/framework/next-auth/README","title":"Adicionar autentica\xe7\xe3o ao seu aplicativo Next Auth","description":"Este guia mostrar\xe1 como integrar o Logto em seu aplicativo Next.js com Next Auth.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","sourceDirName":"quick-starts/framework/next-auth","slug":"/quick-starts/next-auth","permalink":"/pt-BR/quick-starts/next-auth","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/next-auth","sidebar_label":"Next Auth","sidebar_custom_props":{"logoFilename":"next-auth.svg","description":"Autentica\xe7\xe3o para Next.js."}},"sidebar":"quickStartSidebar","previous":{"title":"Next.js (App Router)","permalink":"/pt-BR/quick-starts/next-app-router"},"next":{"title":"Nuxt","permalink":"/pt-BR/quick-starts/nuxt"}}');var i=n(86070),s=n(15658),t=n(68445),a=n(78551),d=n(77501);const c=n.p+"assets/images/next-auth-redirect-uri-8aeb945fa0bdb8fab0929add43786b5c.png";var l=n(84475),u=n(86938),h=n(84939),p=n(41417);const x=[...p.RM,...h.RM,{value:"Configurar URI de redirecionamento de login",id:"configurar-uri-de-redirecionamento-de-login",level:4},...l.RM,{value:"Configurar provedor Next Auth",id:"configurar-provedor-next-auth",level:4},...u.RM];function j(e){const o={code:"code",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Ay,{}),"\n",(0,i.jsx)(h.Ay,{}),"\n",(0,i.jsx)(o.h4,{id:"configurar-uri-de-redirecionamento-de-login",children:"Configurar URI de redirecionamento de login"}),"\n",(0,i.jsx)(l.Ay,{figureSrc:c,redirectUri:"http://localhost:3000/api/auth/callback/logto"}),"\n",(0,i.jsx)(o.h4,{id:"configurar-provedor-next-auth",children:"Configurar provedor Next Auth"}),"\n",(0,i.jsx)(u.Ay,{}),"\n",(0,i.jsxs)(o.p,{children:["Modifique a configura\xe7\xe3o da rota da API do Next Auth. Se voc\xea estiver usando o Pages Router, o arquivo est\xe1 em ",(0,i.jsx)(o.code,{children:"pages/api/auth/[...nextauth].js"}),", se estiver usando o App Router, o arquivo est\xe1 em ",(0,i.jsx)(o.code,{children:"app/api/auth/[...nextauth]/route.ts"}),"."]}),"\n",(0,i.jsx)(o.p,{children:"A seguir est\xe1 um exemplo de App Router:"}),"\n",(0,i.jsxs)(d.A,{children:[(0,i.jsxs)(a.A,{value:"v5",label:"Next Auth v5",children:[(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nexport const {\n  handlers: { GET, POST },\n  signIn,\n  signOut,\n  auth,\n} = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oidc',\n      // Voc\xea pode obter o valor do emissor na p\xe1gina de Detalhes do Aplicativo Logto,\n      // no campo \"Endpoint do emissor\"\n      issuer: 'https://xxxx.logto.app/oidc',\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      authorization: {\n        params: { scope: 'openid offline_access profile email' },\n      },\n      profile(profile) {\n        // Voc\xea pode personalizar o mapeamento do perfil do usu\xe1rio aqui\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n"})}),(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["Substitua a URL do ",(0,i.jsx)(o.code,{children:"issuer"}),' pelo "Endpoint do emissor" do seu aplicativo Logto.']}),"\n",(0,i.jsxs)(o.li,{children:["Substitua o ",(0,i.jsx)(o.code,{children:"clientId"})," e o ",(0,i.jsx)(o.code,{children:"clientSecret"})," pelo ID e segredo do seu aplicativo Logto."]}),"\n",(0,i.jsxs)(o.li,{children:["Personalize a fun\xe7\xe3o ",(0,i.jsx)(o.code,{children:"profile"})," para mapear o perfil do usu\xe1rio para o objeto de usu\xe1rio do Next Auth, o mapeamento padr\xe3o \xe9 mostrado no exemplo."]}),"\n"]})]}),(0,i.jsxs)(a.A,{value:"v4",label:"Next Auth v4",children:[(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nconst handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oauth',\n      // Voc\xea pode obter a URL bem conhecida na p\xe1gina de Detalhes do Aplicativo Logto,\n      // no campo \"Endpoint de configura\xe7\xe3o do provedor OpenID\"\n      wellKnown: 'https://xxxx.logto.app/oidc/.well-known/openid-configuration',\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      client: {\n        id_token_signed_response_alg: 'ES384',\n      },\n      profile(profile) {\n        // Voc\xea pode personalizar o mapeamento do perfil do usu\xe1rio aqui\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n\nexport { handler as GET, handler as POST };\n"})}),(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["Substitua a URL do ",(0,i.jsx)(o.code,{children:"wellKnown"}),' pelo "Endpoint de configura\xe7\xe3o do provedor OpenID" do seu aplicativo Logto.']}),"\n",(0,i.jsxs)(o.li,{children:["Substitua o ",(0,i.jsx)(o.code,{children:"clientId"})," e o ",(0,i.jsx)(o.code,{children:"clientSecret"})," pelo ID e segredo do seu aplicativo Logto."]}),"\n",(0,i.jsxs)(o.li,{children:["Personalize a fun\xe7\xe3o ",(0,i.jsx)(o.code,{children:"profile"})," para mapear o perfil do usu\xe1rio para o objeto de usu\xe1rio do Next Auth, o mapeamento padr\xe3o \xe9 mostrado no exemplo."]}),"\n",(0,i.jsxs)(o.li,{children:["Lembre-se de definir o ",(0,i.jsx)(o.code,{children:"id_token_signed_response_alg"})," como ",(0,i.jsx)(o.code,{children:"ES384"}),"."]}),"\n"]})]})]})]})}function m(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}function f(e){const o={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsx)(o.admonition,{type:"tip",children:(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Neste guia, assumimos que voc\xea configurou o Next Auth em seu projeto Next.js. Se voc\xea ainda n\xe3o fez isso, confira a ",(0,i.jsx)(o.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"documenta\xe7\xe3o do Next Auth"})," para come\xe7ar."]}),"\n"]})})}function g(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}var v=n(5800);function b(e){const o={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-ts",children:"const handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      // ... outras op\xe7\xf5es\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      // ... outras op\xe7\xf5es\n    },\n  ],\n});\n"})})}function A(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}const R=[...v.RM];function N(e){return(0,i.jsx)(v.Ay,{configScopesCode:(0,i.jsx)(A,{})})}function y(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(N,{...e})}):N()}const _={slug:"/quick-starts/next-auth",sidebar_label:"Next Auth",sidebar_custom_props:{logoFilename:"next-auth.svg",description:"Autentica\xe7\xe3o para Next.js."}},q="Adicionar autentica\xe7\xe3o ao seu aplicativo Next Auth",w={},I=[{value:"Pr\xe9-requisitos",id:"pr\xe9-requisitos",level:2},{value:"Integra\xe7\xe3o",id:"integra\xe7\xe3o",level:2},{value:"Configurar o provedor Next Auth",id:"configurar-o-provedor-next-auth",level:3},...x,{value:"Ponto de verifica\xe7\xe3o",id:"ponto-de-verifica\xe7\xe3o",level:3},{value:"Escopos e reivindica\xe7\xf5es",id:"escopos-e-reivindica\xe7\xf5es",level:2},...R,{value:"Leituras adicionais",id:"leituras-adicionais",level:2},...t.RM];function S(e){const o={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"adicionar-autentica\xe7\xe3o-ao-seu-aplicativo-next-auth",children:"Adicionar autentica\xe7\xe3o ao seu aplicativo Next Auth"})}),"\n",(0,i.jsxs)(o.p,{children:["Este guia mostrar\xe1 como integrar o Logto em seu aplicativo Next.js com ",(0,i.jsx)(o.a,{href:"https://next-auth.js.org/",children:"Next Auth"}),"."]}),"\n",(0,i.jsx)(g,{}),"\n",(0,i.jsx)(o.h2,{id:"pr\xe9-requisitos",children:"Pr\xe9-requisitos"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Uma conta ",(0,i.jsx)(o.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou um ",(0,i.jsx)(o.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-hospedado"}),"."]}),"\n",(0,i.jsx)(o.li,{children:"Um aplicativo tradicional Logto criado."}),"\n",(0,i.jsxs)(o.li,{children:["Um projeto Next.js com Next Auth, confira a ",(0,i.jsx)(o.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"documenta\xe7\xe3o do Next Auth"}),"."]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"integra\xe7\xe3o",children:"Integra\xe7\xe3o"}),"\n",(0,i.jsx)(o.h3,{id:"configurar-o-provedor-next-auth",children:"Configurar o provedor Next Auth"}),"\n",(0,i.jsx)(m,{}),"\n",(0,i.jsx)(o.h3,{id:"ponto-de-verifica\xe7\xe3o",children:"Ponto de verifica\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Agora, voc\xea pode testar seu aplicativo para ver se a autentica\xe7\xe3o funciona como esperado."}),"\n",(0,i.jsx)(o.h2,{id:"escopos-e-reivindica\xe7\xf5es",children:"Escopos e reivindica\xe7\xf5es"}),"\n",(0,i.jsx)(y,{}),"\n",(0,i.jsx)(o.h2,{id:"leituras-adicionais",children:"Leituras adicionais"}),"\n",(0,i.jsx)(t.Ay,{})]})}function E(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(S,{...e})}):S(e)}},78551:(e,o,n)=>{n.d(o,{A:()=>t});n(30758);var r=n(13526);const i={tabItem:"tabItem_PGP0"};var s=n(86070);function t(e){let{children:o,hidden:n,className:t}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,t),hidden:n,children:o})}},77501:(e,o,n)=>{n.d(o,{A:()=>R});var r=n(30758),i=n(13526),s=n(65052),t=n(25557),a=n(77469),d=n(50873),c=n(62230),l=n(60196);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:o}=e;return!!o&&"object"==typeof o&&"value"in o}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:o,children:n}=e;return(0,r.useMemo)((()=>{const e=o??function(e){return u(e).map((e=>{let{props:{value:o,label:n,attributes:r,default:i}}=e;return{value:o,label:n,attributes:r,default:i}}))}(n);return function(e){const o=(0,c.XI)(e,((e,o)=>e.value===o.value));if(o.length>0)throw new Error(`Docusaurus error: Duplicate values "${o.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[o,n])}function p(e){let{value:o,tabValues:n}=e;return n.some((e=>e.value===o))}function x(e){let{queryString:o=!1,groupId:n}=e;const i=(0,t.W6)(),s=function(e){let{queryString:o=!1,groupId:n}=e;if("string"==typeof o)return o;if(!1===o)return null;if(!0===o&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:o,groupId:n});return[(0,d.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const o=new URLSearchParams(i.location.search);o.set(s,e),i.replace({...i.location,search:o.toString()})}),[s,i])]}function j(e){const{defaultValue:o,queryString:n=!1,groupId:i}=e,s=h(e),[t,d]=(0,r.useState)((()=>function(e){let{defaultValue:o,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(o){if(!p({value:o,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${o}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return o}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:o,tabValues:s}))),[c,u]=x({queryString:n,groupId:i}),[j,m]=function(e){let{groupId:o}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(o),[i,s]=(0,l.Dv)(n);return[i,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:i}),f=(()=>{const e=c??j;return p({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{f&&d(f)}),[f]);return{selectedValue:t,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),m(e)}),[u,m,s]),tabValues:s}}var m=n(13887);const f={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var g=n(86070);function v(e){let{className:o,block:n,selectedValue:r,selectValue:t,tabValues:a}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),l=e=>{const o=e.currentTarget,n=d.indexOf(o),i=a[n].value;i!==r&&(c(o),t(i))},u=e=>{let o=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;o=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;o=d[n]??d[d.length-1];break}}o?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},o),children:a.map((e=>{let{value:o,label:n,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===o?0:-1,"aria-selected":r===o,ref:e=>d.push(e),onKeyDown:u,onClick:l,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":r===o}),children:n??o},o)}))})}function b(e){let{lazy:o,children:n,selectedValue:s}=e;const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(o){const e=t.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:t.map(((e,o)=>(0,r.cloneElement)(e,{key:o,hidden:e.props.value!==s})))})}function A(e){const o=j(e);return(0,g.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,g.jsx)(v,{...o,...e}),(0,g.jsx)(b,{...o,...e})]})}function R(e){const o=(0,m.A)();return(0,g.jsx)(A,{...e,children:u(e.children)},String(o))}},15658:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>a});var r=n(30758);const i={},s=r.createContext(i);function t(e){const o=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);