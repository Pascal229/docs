<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/recipes/organizations/just-in-time-provisioning" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Just-in-time provisioning | Logto docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.logto.io/docs/recipes/organizations/just-in-time-provisioning/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Just-in-time provisioning | Logto docs"><meta data-rh="true" name="description" content="In Logto, just-in-time (JIT) provisioning is a process used to assign organization memberships and roles to users on-the-fly as they sign in to the system for the first time. Instead of pre-provisioning accounts for users in advance, JIT provisioning configures the necessary user accounts dynamically when a user authenticates."><meta data-rh="true" property="og:description" content="In Logto, just-in-time (JIT) provisioning is a process used to assign organization memberships and roles to users on-the-fly as they sign in to the system for the first time. Instead of pre-provisioning accounts for users in advance, JIT provisioning configures the necessary user accounts dynamically when a user authenticates."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.logto.io/docs/recipes/organizations/just-in-time-provisioning/"><link data-rh="true" rel="alternate" href="https://docs.logto.io/docs/recipes/organizations/just-in-time-provisioning/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.logto.io/docs/recipes/organizations/just-in-time-provisioning/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DE7QZWOVO6-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Logto docs Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Logto docs" href="/opensearch.xml">

<script>var shouldTrack="logto.io"===window.location.hostname||window.location.hostname.endsWith("logto.io");shouldTrack||console.warn("Not tracking because the hostname is not logto.io")</script>
<script src="https://akasha.logto.io/placebo/sabaean.js" defer="defer" data-api="https://akasha.logto.io/placebo/eagan" data-domain="logto.io"></script>
<script>shouldTrack&&(window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)})</script>
<script async crossorigin="anonymous" src="https://www.googletagmanager.com/gtag/js?id=AW-11124811245"></script>
<script>if(shouldTrack){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","AW-11124811245")}</script>
<script>shouldTrack&&function(t,e,c,n,r,a,s){t[c]=t[c]||function(){(t[c].q=t[c].q||[]).push(arguments)},(a=e.createElement(n)).async=1,a.src="https://www.clarity.ms/tag/o9cb961ir0",(s=e.getElementsByTagName(n)[0]).parentNode.insertBefore(a,s)}(window,document,"clarity","script")</script>
<meta name="google-site-verification" content="3EYzsnarDwG6zL2dlHvyC8ySVcV6Q3RGlvh7-bvhb2k">



























<link rel="alternate" type="application/rss+xml" href="/tutorial/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tutorial/atom.xml" title="Logto docs Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/terms/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/terms/atom.xml" title="Logto docs Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/about/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/about/atom.xml" title="Logto docs Atom Feed"><link rel="stylesheet" href="/assets/css/styles.60a00b31.css">
<script src="/assets/js/runtime~main.c3088bae.js" defer="defer"></script>
<script src="/assets/js/main.2b9b85a4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_iNvn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://logto.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logto.svg" alt="Silverhand Logo" class="themedComponent_ghWv themedComponent--light__HzB"><img src="/img/logto_dark.svg" alt="Silverhand Logo" class="themedComponent_ghWv themedComponent--dark_znsS"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a href="https://blog.logto.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Mjen"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/quick-starts/">Quick starts</a><a class="navbar__item navbar__link" href="/integrations/">Integrations</a><div class="navbar__item dropdown dropdown--hoverable"><a href="https://openapi.logto.io/" target="_blank" rel="noopener noreferrer" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">API</a><ul class="dropdown__menu"><li><a href="https://bump.sh/logto/doc/logto-experience-api" target="_blank" rel="noopener noreferrer" class="dropdown__link">Experience API</a></li><li><a href="https://bump.sh/logto/doc/logto-management-api" target="_blank" rel="noopener noreferrer" class="dropdown__link">Management API</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/logto-io/logto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Mjen"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_tHnc colorModeToggle_lX8z"><button class="clean-btn toggleButton_M_ik toggleButtonDisabled__iBf" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bm2R"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_z9nA"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_ToYe"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_W6mT"><div class="docsWrapper_vcCX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_x_R6" type="button"></button><div class="docRoot_j1Mi"><aside class="theme-doc-sidebar-container docSidebarContainer_pI1q"><div class="sidebarViewport_NPJc"><div class="sidebar_T27M"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_h5Tv"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">💁 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/get-started/">⚡ Get started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/get-started/welcome/">🎉 Welcome to Logto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-section"><a href="#" class="menu__link">Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts/sign-in-experience/">🎾 Sign-in experience</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts/authn-vs-authz/">🆚 Authentication vs. authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-section"><a href="#" class="menu__link">Recipes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/integrate-logto/">🔗 Integrate Logto in your application</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/protect-your-api/">⚔️ Protect your API</a><button aria-label="Expand sidebar category &#x27;⚔️ Protect your API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/customize-sie/">🎨 Customize sign-in experience</a><button aria-label="Expand sidebar category &#x27;🎨 Customize sign-in experience&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/multi-factor-auth/">🛡️ Multi-factor authentication</a><button aria-label="Expand sidebar category &#x27;🛡️ Multi-factor authentication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/configure-connectors/">🪛 Configure connectors</a><button aria-label="Expand sidebar category &#x27;🪛 Configure connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/interact-with-management-api/">🚝 Interact with Management API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/manage-users/">🧑‍🚀 Manage users</a><button aria-label="Expand sidebar category &#x27;🧑‍🚀 Manage users&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/recipes/organizations/">🏢 Organizations (Multi-tenancy)</a><button aria-label="Collapse sidebar category &#x27;🏢 Organizations (Multi-tenancy)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/organizations/understand-how-it-works/">Understand how organizations work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/organizations/configuration/">Configure organizations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/organizations/impact-on-end-users/">Impact on end-user sign-in experience</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/organizations/integration/">Integrate organizations with your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/recipes/organizations/organization-invitations/">Implement organization invitation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/recipes/organizations/just-in-time-provisioning/">Just-in-time provisioning</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/single-sign-on/">☁️ Enterprise SSO (SAML &amp; OIDC)</a><button aria-label="Expand sidebar category &#x27;☁️ Enterprise SSO (SAML &amp; OIDC)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/user-profile/">👤 User profiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/inspect-audit-logs/">📜 Inspect audit logs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/logto-as-idp/">🌐 Logto as an Identity Provider (IdP)</a><button aria-label="Expand sidebar category &#x27;🌐 Logto as an Identity Provider (IdP)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/protected-app/">🔐 Protected App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/webhooks/">🪝 Webhooks</a><button aria-label="Expand sidebar category &#x27;🪝 Webhooks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/rbac/">🔐 Role-based access control (RBAC)</a><button aria-label="Expand sidebar category &#x27;🔐 Role-based access control (RBAC)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes/custom-domain/">🌍 Custom domain</a><button aria-label="Expand sidebar category &#x27;  🌍 Custom domain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/deployment/">🚀 Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/configure-storage-providers/">💾 File storage provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/custom-jwt/">🎫 Custom token claims</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/enable-central-cache/">🗄️ Enable central cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/migrations/">🔄 Migrate to Logto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/recipes/impersonation/">🎭 User impersonation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-section"><a href="#" class="menu__link">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/tenants/">🗂️ Tenants</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/openid-connect/">📄 OpenID Connect</a><button aria-label="Expand sidebar category &#x27;📄 OpenID Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/using-cli/">🖥 Using Logto CLI</a><button aria-label="Expand sidebar category &#x27;🖥 Using Logto CLI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/applications/">📱 Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/connectors/">🔌 Connectors</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/core/">🧱 Core Service</a><button aria-label="Collapse sidebar category &#x27;🧱 Core Service&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/references/core/configuration/">Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/resources/">📁 API Resource</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/sdk-convention/">📃 SDK convention</a><button aria-label="Expand sidebar category &#x27;📃 SDK convention&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/users/">👨‍👩‍👧‍👦 Users</a><button aria-label="Expand sidebar category &#x27;👨‍👩‍👧‍👦 Users&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/translate-cli/">🤖 I18n translation with CLI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/tunnel-cli/">🤖 Using Logto Tunnel CLI</a><button aria-label="Expand sidebar category &#x27;🤖 Using Logto Tunnel CLI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_s9XT"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VoQd"><div class="docItemContainer_otqq"><article><div class="tocCollapsible_yt95 theme-doc-toc-mobile tocMobile_tcaC"><button type="button" class="clean-btn tocCollapsibleButton__U7H">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Just-in-time provisioning</h1></header>
<div class="availability_kRMk"><img alt="Cloud availability" src="https://img.shields.io/badge/Cloud-✓ available-4EA254"><img alt="OSS availability" src="https://img.shields.io/badge/OSS-since v1.18-4EA254"></div>
<p>In Logto, just-in-time (JIT) provisioning is a process used to assign organization memberships and roles to users on-the-fly as they sign in to the system for the first time. Instead of pre-provisioning accounts for users in advance, JIT provisioning configures the necessary user accounts dynamically when a user authenticates.</p>
<h2 class="anchor anchorWithStickyNavbar_ffHw" id="how-it-works">How it works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works">​</a></h2>
<p>Here’s a high-level overview of the JIT provisioning process:</p>
<ol>
<li><strong>User authentication</strong>: The user attempts to sign in to an application or service, and the identity provider (Logto) authenticates the user.</li>
<li><strong>Account sign-in or creation</strong>: Depending on the user’s status, Logto either signs in the user, creates a new account, or add a new identity to an existing account.</li>
<li><strong>Provisioning</strong>: If the user or their identity is new, Logto triggers the provisioning process.</li>
</ol>
<p>Here&#x27;s a detailed flowchart of JIT provisioning:</p>
<!-- -->
<p>JIT provisioning is a useful feature for B2B and multi-tenancy products. It makes onboarding tenant members smooth and requires no administrative involvement.</p>
<p>For example, if you’ve onboarded a business and want its employees to securely sign into your product and join the organization with the correct role access, there are several ways to achieve this. Let’s explore the possible solutions Logto provides and how JIT can help.</p>
<table><thead><tr><th>Scenario</th><th>User types</th><th>Automated?</th><th>Behavior</th></tr></thead><tbody><tr><td>Admin invite</td><td>New and existing</td><td></td><td>Users can receive an email invitation to join the organization.</td></tr><tr><td>Management API user creation or import</td><td>New and existing</td><td></td><td>Users can use a pre-created user account to join the organization.</td></tr><tr><td>SSO just-in-time provisioning</td><td>New and existing</td><td>✅</td><td>Users who signs in with SSO for the first time can join the organization.</td></tr><tr><td>Email domain just-in-time provisioning</td><td>New</td><td>✅</td><td>Users with specific verified domains who signs in for the first time can join the organization.</td></tr><tr><td>Directory sync</td><td>New and existing</td><td>✅</td><td>Use the IdP’s directory sync functionality to pre-provision users in the app in advance.</td></tr></tbody></table>
<p>Currently, Logto supports <strong>SSO just-in-time provisioning</strong> and <strong>email domain just-in-time provisioning</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_ffHw" id="benefits-of-jit-provisioning">Benefits of JIT provisioning<a href="#benefits-of-jit-provisioning" class="hash-link" aria-label="Direct link to Benefits of JIT provisioning" title="Direct link to Benefits of JIT provisioning">​</a></h3>
<p>JIT provisioning offers several benefits:</p>
<ol>
<li><strong>Efficiency</strong>: Reduces the administrative overhead of manually creating and managing user accounts.</li>
<li><strong>Scalability</strong>: Automatically handles account creation for large numbers of users without prior setup.</li>
<li><strong>Real-time</strong>: Ensures users can access resources as soon as they authenticate, without delays.</li>
</ol>
<p>We have implemented the JIT features at their most scalable and secure level to simplify and speed up the provisioning process for you. However, since provisioning systems can be complex and tailored to your clients’ specific needs, it is essential to combine Logto’s pre-built JIT features, your careful system design, and the Logto Management API. This integrated approach will help you build a robust and efficient provisioning system.</p>
<h3 class="anchor anchorWithStickyNavbar_ffHw" id="differences-between-jit-and-directory-sync">Differences between JIT and directory sync<a href="#differences-between-jit-and-directory-sync" class="hash-link" aria-label="Direct link to Differences between JIT and directory sync" title="Direct link to Differences between JIT and directory sync">​</a></h3>
<ul>
<li><strong>JIT provisioning</strong> is triggered by user-initiated actions, while <strong>Directory sync</strong> can be both user-initiated and system-initiated (scheduled or real-time).</li>
<li><strong>JIT provisioning</strong> does not enforce the membership or role assignment, while <strong>Directory sync</strong> can enforce them.</li>
<li><strong>JIT provisioning</strong> is more suitable for onboarding new users regardless of the user’s identity source, while <strong>Directory sync</strong> is more suitable for managed user accounts.</li>
</ul>
<p>In short, JIT provisioning is a more flexible and user-friendly approach to onboarding users, as it can give users the freedom to join or leave organizations and let you handle the existing users at your discretion.</p>
<div class="theme-admonition theme-admonition-note admonition_hgf1 alert alert--secondary"><div class="admonitionHeading_xwtK"><span class="admonitionIcon_YDER"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_wtkp"><p>If you need the directory sync feature, please contact Logto team.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_ffHw" id="just-in-time-provisioning-in-logto">Just-in-time provisioning in Logto<a href="#just-in-time-provisioning-in-logto" class="hash-link" aria-label="Direct link to Just-in-time provisioning in Logto" title="Direct link to Just-in-time provisioning in Logto">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_hgf1 alert alert--info"><div class="admonitionHeading_xwtK"><span class="admonitionIcon_YDER"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_wtkp"><p>Just-in-time (JIT) provisioning only triggers for user-initiated actions and does not affect interactions with the Logto Management API.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_ffHw" id="enterprise-sso-provisioning">Enterprise SSO provisioning<a href="#enterprise-sso-provisioning" class="hash-link" aria-label="Direct link to Enterprise SSO provisioning" title="Direct link to Enterprise SSO provisioning">​</a></h3>
<p>If you have Enterprise SSO set up in Logto, you can select your organization enterprise SSO to enable just-in-time provisioning.</p>
<p>When one of the following conditions is met:</p>
<ul>
<li>New users sign in through enterprise SSO;</li>
<li>Existing users sign in through enterprise SSO for the first time.</li>
</ul>
<p>They will automatically join the organization and get default organization roles.</p>
<p><img decoding="async" loading="lazy" alt="Enterprise SSO provisioning" src="/assets/images/jit-sso-5538460b969a9895cd94f89f4235126d.webp" width="2496" height="1184" class="img_deJ3"></p>
<h3 class="anchor anchorWithStickyNavbar_ffHw" id="email-domain-provisioning">Email domain provisioning<a href="#email-domain-provisioning" class="hash-link" aria-label="Direct link to Email domain provisioning" title="Direct link to Email domain provisioning">​</a></h3>
<p>If your client doesn’t have a dedicated enterprise SSO, you can still use email domains for just-in-time provisioning.</p>
<p>When a user signs up, if their verified email address match the configured JIT email domains at the organization level, they will be provisioned to the appropriate organizations with the corresponding roles.</p>
<p><img decoding="async" loading="lazy" alt="Email domain provisioning" src="/assets/images/jit-email-95f7b7cc852ed195e3e970376e758b73.webp" width="2496" height="1072" class="img_deJ3"></p>
<p>The address matching can recognize the verified email address from all non-enterprise SSO identity sources, including:</p>
<ol>
<li>Email sign-up authentication</li>
<li>Social sign-up authentication</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_hgf1 alert alert--secondary"><div class="admonitionHeading_xwtK"><span class="admonitionIcon_YDER"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_wtkp"><p><strong>Why doesn’t email domain provisioning apply to the existing user sign-in process?</strong></p><p>Existing user sign-in requires further control to determine if they can be provisioned to a specific organization or granted a role. This process is dynamic and depends on specific use cases and business needs, such as sign-in frequency and organization-level policies.</p><p>For example, if you enable email domain provisioning for an existing user and later want to onboard another group of users with a different role, should the previously onboarded user be assigned the new role you set up? This creates a complex scenario for “just-in-time updates”. The exact behavior often depends on how the application and IdP integration are configured. We give this control to you, allowing you to design your provisioning system freely and handle the most frequent scenarios for new account creation and organization onboarding.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_ffHw" id="email-sign-in-experience-when-email-domain-provisioning-is-enabled">Email sign-in experience when email domain provisioning is enabled<a href="#email-sign-in-experience-when-email-domain-provisioning-is-enabled" class="hash-link" aria-label="Direct link to Email sign-in experience when email domain provisioning is enabled" title="Direct link to Email sign-in experience when email domain provisioning is enabled">​</a></h4>
<table><thead><tr><th>User status</th><th>Description</th></tr></thead><tbody><tr><td>User does not exist and signs up with email</td><td>User is created and automatically joins the corresponding organization with appropriate roles.</td></tr><tr><td>User exists with the same verified email address as provisioned email domains</td><td>Normal email sign-in experience.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_ffHw" id="social-sign-in-experience-when-email-domain-provisioning-is-enabled">Social sign-in experience when email domain provisioning is enabled<a href="#social-sign-in-experience-when-email-domain-provisioning-is-enabled" class="hash-link" aria-label="Direct link to Social sign-in experience when email domain provisioning is enabled" title="Direct link to Social sign-in experience when email domain provisioning is enabled">​</a></h4>
<table><thead><tr><th>User status</th><th>Description</th></tr></thead><tbody><tr><td>User does not exist, signs up with social account using a verified email</td><td>User is created and automatically joins the corresponding organization with appropriate roles.</td></tr><tr><td>User does not exist, signs up with social account using an unverified email or no email</td><td>Normal social sign-up experience.</td></tr><tr><td>User exists with the same verified email address as provisioned email domains, signs in through a new social identity</td><td>Normal social sign-in experience.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_ffHw" id="handling-the-potential-conflict-between-jit-provisioning-methods">Handling the potential conflict between JIT provisioning methods<a href="#handling-the-potential-conflict-between-jit-provisioning-methods" class="hash-link" aria-label="Direct link to Handling the potential conflict between JIT provisioning methods" title="Direct link to Handling the potential conflict between JIT provisioning methods">​</a></h3>
<p>If you initially set up email domain provisioning and later configure an enterprise SSO with the same email domain, here&#x27;s what happens:</p>
<p>When a user enters their email address, they will be redirected to the SSO identity provider, bypassing the email authentication. This means the email domain provisioning won’t be triggered.</p>
<p>To address this, we will show a warning message when configuration. Ensure you handle this case by selecting the correct SSO connector to enable enterprise SSO provisioning, and do not rely on email domain provisioning.</p>
<p><img decoding="async" loading="lazy" alt="Conflict warning" src="/assets/images/jit-conflict-20c8c47ff22e7c515772821ffeea1c7d.webp" width="2496" height="1264" class="img_deJ3"></p>
<h2 class="anchor anchorWithStickyNavbar_ffHw" id="default-organization-roles">Default organization roles<a href="#default-organization-roles" class="hash-link" aria-label="Direct link to Default organization roles" title="Direct link to Default organization roles">​</a></h2>
<p>When provisioning users in an organization, you can set their default organization roles. The role list comes from the organization template, and you can choose a role or leave it empty.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/logto-io/docs/tree/master/docs/docs/recipes/organizations/just-in-time-provisioning.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_xa1W" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_w0Xe"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/recipes/organizations/organization-invitations/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Implement organization invitation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/recipes/single-sign-on/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">☁️ Enterprise SSO (SAML &amp; OIDC)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_RzuJ thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a><ul><li><a href="#benefits-of-jit-provisioning" class="table-of-contents__link toc-highlight">Benefits of JIT provisioning</a></li><li><a href="#differences-between-jit-and-directory-sync" class="table-of-contents__link toc-highlight">Differences between JIT and directory sync</a></li></ul></li><li><a href="#just-in-time-provisioning-in-logto" class="table-of-contents__link toc-highlight">Just-in-time provisioning in Logto</a><ul><li><a href="#enterprise-sso-provisioning" class="table-of-contents__link toc-highlight">Enterprise SSO provisioning</a></li><li><a href="#email-domain-provisioning" class="table-of-contents__link toc-highlight">Email domain provisioning</a></li><li><a href="#handling-the-potential-conflict-between-jit-provisioning-methods" class="table-of-contents__link toc-highlight">Handling the potential conflict between JIT provisioning methods</a></li></ul></li><li><a href="#default-organization-roles" class="table-of-contents__link toc-highlight">Default organization roles</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer_TCBS"><div class="container_oxh8"><div class="logoRow_e6WH"><img src="/img/silverhand.svg" alt="Logo"></div><div class="footerRow_MwlS"><div class="copyRight_Do1v">Copyright © 2024 Silverhand Inc. Built with Docusaurus.</div><div class="links_lMuC"><a class="footer__link-item" href="/">Docs</a><a href="https://github.com/logto-io/logto" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a><a href="https://logto.io/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Us</a><a href="mailto: contact@logto.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></div></div></div></footer></div>
</body>
</html>