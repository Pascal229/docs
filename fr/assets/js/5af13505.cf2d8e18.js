"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[6787],{42839:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(n.p,{children:["Nous vous recommandons de lire d'abord ",(0,t.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC)"})," pour comprendre les concepts de base de Logto RBAC et comment configurer correctement les ressources API."]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},65085:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[{value:"Revendications n\xe9cessitant des requ\xeates r\xe9seau",id:"revendications-n\xe9cessitant-des-requ\xeates-r\xe9seau",level:3}];function o(e){const n={code:"code",h3:"h3",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,t.jsx)(n.h3,{id:"revendications-n\xe9cessitant-des-requ\xeates-r\xe9seau",children:"Revendications n\xe9cessitant des requ\xeates r\xe9seau"}),"\n",(0,t.jsxs)(n.p,{children:["Pour \xe9viter de surcharger le jeton d\u2019identifiant (ID token), certaines revendications n\xe9cessitent des requ\xeates r\xe9seau pour \xeatre r\xe9cup\xe9r\xe9es. Par exemple, la revendication ",(0,t.jsx)(n.code,{children:"custom_data"})," n'est pas incluse dans l'objet utilisateur m\xeame si elle est demand\xe9e dans les port\xe9es. Pour acc\xe9der \xe0 ces revendications, ",(0,t.jsxs)("span",{children:["method"===e.type&&(0,t.jsxs)(t.Fragment,{children:["vous pouvez utiliser la m\xe9thode ",(0,t.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,t.jsxs)(t.Fragment,{children:["vous pouvez configurer l'option ",(0,t.jsx)("code",{children:e.configOption})]})]})," :"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,t.jsxs)(t.Fragment,{children:["Cette m\xe9thode r\xe9cup\xe9rera les informations de l'utilisateur en faisant une requ\xeate \xe0 l'"," ",(0,t.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"}),". Pour en savoir plus sur les port\xe9es et revendications disponibles, consultez la section"," ",(0,t.jsx)("a",{href:"#scopes-and-claims",children:"Port\xe9es et revendications"}),"."]}),"\n","option"===e.type&&(0,t.jsxs)(t.Fragment,{children:["En configurant ",(0,t.jsx)("code",{children:e.configOption}),", le SDK r\xe9cup\xe9rera les informations de l'utilisateur en faisant une requ\xeate \xe0 l'"," ",(0,t.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"})," ","apr\xe8s que l'utilisateur se soit connect\xe9, et ",(0,t.jsx)("code",{children:e.value??"user.custom_data"})," sera disponible une fois la requ\xeate termin\xe9e."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},71307:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Une fois que vous avez configur\xe9 les ressources API, vous pouvez les ajouter lors de la configuration de Logto dans votre application :"}),"\n",e.configResourcesCode,"\n",(0,t.jsx)(n.p,{children:"Chaque ressource API a ses propres permissions (port\xe9es)."}),"\n",(0,t.jsxs)(n.p,{children:["Par exemple, la ressource ",(0,t.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," a les permissions ",(0,t.jsx)(n.code,{children:"shopping:read"})," et ",(0,t.jsx)(n.code,{children:"shopping:write"}),", et la ressource ",(0,t.jsx)(n.code,{children:"https://store.your-app.com/api"})," a les permissions ",(0,t.jsx)(n.code,{children:"store:read"})," et ",(0,t.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Pour demander ces permissions, vous pouvez les ajouter lors de la configuration de Logto dans votre application :"}),"\n",e.configResourcesWithScopesCode,"\n",(0,t.jsxs)(n.p,{children:["Vous pouvez remarquer que les port\xe9es sont d\xe9finies s\xe9par\xe9ment des ressources API. Cela est d\xfb au fait que les ",(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Indicateurs de ressource pour OAuth 2.0"})," sp\xe9cifient que les port\xe9es finales pour la requ\xeate seront le produit cart\xe9sien de toutes les port\xe9es de tous les services cibles."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:["Ainsi, dans le cas ci-dessus, les port\xe9es peuvent \xeatre simplifi\xe9es \xe0 partir de la d\xe9finition dans Logto, les deux ressources API peuvent avoir les port\xe9es ",(0,t.jsx)("code",{children:"read"})," et ",(0,t.jsx)("code",{children:"write"})," ","sans le pr\xe9fixe. Ensuite, dans la configuration de Logto :"]}),e.configResourcesWithSharedScopesCode,(0,t.jsxs)("p",{children:["Pour chaque ressource API, il demandera \xe0 la fois les port\xe9es ",(0,t.jsx)("code",{children:"read"})," et"," ",(0,t.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Il est acceptable de demander des port\xe9es qui ne sont pas d\xe9finies dans les ressources API. Par exemple, vous pouvez demander la port\xe9e ",(0,t.jsx)(n.code,{children:"email"})," m\xeame si les ressources API n'ont pas la port\xe9e ",(0,t.jsx)(n.code,{children:"email"})," disponible. Les port\xe9es non disponibles seront ignor\xe9es en toute s\xe9curit\xe9."]})}),"\n",(0,t.jsx)(n.p,{children:"Apr\xe8s une connexion r\xe9ussie, Logto \xe9mettra les port\xe9es appropri\xe9es aux ressources API en fonction des r\xf4les de l'utilisateur."})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},90116:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Pour r\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour une ressource API sp\xe9cifique, vous pouvez utiliser la m\xe9thode ",(0,t.jsx)("code",{children:e.getAccessTokenApi})," :"]}),"\n",e.getAccessTokenCode,"\n",(0,t.jsx)(n.p,{children:"Cette m\xe9thode renverra un jeton d\u2019acc\xe8s JWT qui peut \xeatre utilis\xe9 pour acc\xe9der \xe0 la ressource API lorsque l\u2019utilisateur a les Permissions associ\xe9es. Si le jeton d\u2019acc\xe8s mis en cache actuel a expir\xe9, cette m\xe9thode essaiera automatiquement d\u2019utiliser un jeton de rafra\xeechissement pour obtenir un nouveau jeton d\u2019acc\xe8s."})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},45478:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Si l'Organisation est nouvelle pour vous, veuillez lire ",(0,t.jsx)(n.a,{href:"/organizations",children:"\ud83c\udfe2 Organisations (Multi-tenancy)"})," pour commencer."]}),"\n",(0,t.jsxs)(n.p,{children:["Vous devez ajouter la port\xe9e ",(0,t.jsx)("code",{children:e.organizationScope})," lors de la configuration du client Logto :"]}),"\n",e.configOrganizationCode,"\n",(0,t.jsx)(n.p,{children:"Une fois l'utilisateur connect\xe9, vous pouvez r\xe9cup\xe9rer le jeton d\u2019organisation pour l'utilisateur :"}),"\n",e.getOrganizationAccessTokenCode]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},98601:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(n.p,{children:["Il se peut que certaines informations utilisateur soient manquantes dans l'objet retourn\xe9 par ",(0,t.jsx)("code",{children:e.method}),". Cela est d\xfb au fait que OAuth 2.0 et OpenID Connect (OIDC) sont con\xe7us pour suivre le principe du moindre privil\xe8ge (PoLP), et Logto est construit sur ces normes."]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},39038:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{href:"/end-user-flows",children:" Flux utilisateur final : flux d'authentification, flux de compte et flux d'organisation "}),"\n",(0,t.jsx)(n,{href:"/connectors",children:" Configurer les connecteurs "}),"\n",(0,t.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:" Prot\xe9ger votre API "})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},91246:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={a:"a",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Concernant la connexion bas\xe9e sur la redirection"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Ce processus d'authentification (Authentication) suit le protocole ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", et Logto applique des mesures de s\xe9curit\xe9 strictes pour prot\xe9ger la connexion utilisateur."]}),"\n",(0,t.jsx)(n.li,{children:"Si vous avez plusieurs applications, vous pouvez utiliser le m\xeame fournisseur d\u2019identit\xe9 (Logto). Une fois que l'utilisateur se connecte \xe0 une application, Logto compl\xe9tera automatiquement le processus de connexion lorsque l'utilisateur acc\xe8de \xe0 une autre application."}),"\n"]}),(0,t.jsxs)(n.p,{children:["Pour en savoir plus sur la logique et les avantages de la connexion bas\xe9e sur la redirection, consultez ",(0,t.jsx)(n.a,{href:"/concepts/sign-in-experience",children:"Exp\xe9rience de connexion Logto expliqu\xe9e"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},88906:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Voici la liste des Port\xe9es (Scopes) prises en charge et les Revendications (Claims) correspondantes :"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"openid"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"sub"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"L'identifiant unique de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"profile"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"name"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Le nom complet de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"username"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Le nom d'utilisateur de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"picture"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"URL de la photo de profil de l'utilisateur final. Cette URL DOIT faire r\xe9f\xe9rence \xe0 un fichier image (par exemple, un fichier image PNG, JPEG ou GIF), plut\xf4t qu'\xe0 une page Web contenant une image. Notez que cette URL DOIT sp\xe9cifiquement r\xe9f\xe9rencer une photo de profil de l'utilisateur final adapt\xe9e \xe0 l'affichage lors de la description de l'utilisateur final, plut\xf4t qu'une photo arbitraire prise par l'utilisateur final."}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"created_at"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Heure \xe0 laquelle l'utilisateur final a \xe9t\xe9 cr\xe9\xe9. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"updated_at"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Heure \xe0 laquelle les informations de l'utilisateur final ont \xe9t\xe9 mises \xe0 jour pour la derni\xe8re fois. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,t.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["D'autres ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"revendications standard"})," incluent ",(0,t.jsx)(n.code,{children:"family_name"}),", ",(0,t.jsx)(n.code,{children:"given_name"}),", ",(0,t.jsx)(n.code,{children:"middle_name"}),", ",(0,t.jsx)(n.code,{children:"nickname"}),", ",(0,t.jsx)(n.code,{children:"preferred_username"}),", ",(0,t.jsx)(n.code,{children:"profile"}),", ",(0,t.jsx)(n.code,{children:"website"}),", ",(0,t.jsx)(n.code,{children:"gender"}),", ",(0,t.jsx)(n.code,{children:"birthdate"}),", ",(0,t.jsx)(n.code,{children:"zoneinfo"}),", et ",(0,t.jsx)(n.code,{children:"locale"})," seront \xe9galement incluses dans la port\xe9e ",(0,t.jsx)(n.code,{children:"profile"})," sans avoir besoin de demander le point de terminaison userinfo. Une diff\xe9rence par rapport aux revendications ci-dessus est que ces revendications ne seront renvoy\xe9es que lorsque leurs valeurs ne sont pas vides, tandis que les revendications ci-dessus renverront ",(0,t.jsx)(n.code,{children:"null"})," si les valeurs sont vides."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Contrairement aux revendications standard, les revendications ",(0,t.jsx)(n.code,{children:"created_at"})," et ",(0,t.jsx)(n.code,{children:"updated_at"})," utilisent des millisecondes au lieu de secondes."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"email"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"email"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"L'adresse e-mail de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"email_verified"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Si l'adresse e-mail a \xe9t\xe9 v\xe9rifi\xe9e"}),(0,t.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"phone"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"phone_number"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Le num\xe9ro de t\xe9l\xe9phone de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"phone_number_verified"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Si le num\xe9ro de t\xe9l\xe9phone a \xe9t\xe9 v\xe9rifi\xe9"}),(0,t.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"address"})})}),"\n",(0,t.jsxs)(n.p,{children:["Veuillez vous r\xe9f\xe9rer \xe0 ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," pour les d\xe9tails de la revendication d'adresse."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"custom_data"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object"})}),(0,t.jsx)(n.td,{children:"Les donn\xe9es personnalis\xe9es de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Oui"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"identities"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"identities"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object"})}),(0,t.jsx)(n.td,{children:"Les identit\xe9s li\xe9es de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Oui"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"sso_identities"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:"Les identit\xe9s SSO li\xe9es de l'utilisateur"}),(0,t.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organizations"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsx)(n.td,{children:"Les identifiants d'organisation auxquels l'utilisateur appartient"}),(0,t.jsx)(n.td,{children:"Non"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organization_data"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object[]"})}),(0,t.jsx)(n.td,{children:"Les donn\xe9es d'organisation auxquelles l'utilisateur appartient"}),(0,t.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Nom de la revendication"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Besoin d'userinfo ?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organization_roles"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsxs)(n.td,{children:["Les r\xf4les d'organisation auxquels l'utilisateur appartient avec le format ",(0,t.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,t.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:['En consid\xe9rant la performance et la taille des donn\xe9es, si "Besoin d\'userinfo ?" est "Oui", cela signifie que la revendication n\'appara\xeetra pas dans le Jeton d\u2019identifiant (ID token), mais sera renvoy\xe9e dans la r\xe9ponse du ',(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},13195:(e,n,s)=>{s.d(n,{Ay:()=>l,RM:()=>o});var t=s(86070),r=s(15658),i=s(88906);const o=[...i.RM];function c(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Logto utilise les conventions de ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"port\xe9es et revendications"})," OIDC pour d\xe9finir les Port\xe9es et Revendications pour r\xe9cup\xe9rer les informations utilisateur \xe0 partir du Jeton d\u2019identifiant et du point de terminaison OIDC ",(0,t.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo"}),'. Les termes "Port\xe9e" et "Revendication" proviennent des sp\xe9cifications OAuth 2.0 et OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"En bref, lorsque vous demandez une Port\xe9e, vous obtiendrez les Revendications correspondantes dans les informations utilisateur. Par exemple, si vous demandez la port\xe9e `email`, vous obtiendrez les donn\xe9es `email` et `email_verified` de l'utilisateur."}),(0,t.jsx)("p",{children:"Par d\xe9faut, le SDK Logto demandera toujours trois Port\xe9es : `openid`, `profile` et `offline_access`, et il n'est pas possible de supprimer ces Port\xe9es par d\xe9faut. Mais vous pouvez ajouter plus de Port\xe9es lors de la configuration de Logto :"}),e.configScopesCode]}),"\n",(0,t.jsx)(i.Ay,{})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},17646:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>i});var t=s(86070),r=s(15658);const i=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Par d\xe9faut, des revendications limit\xe9es sont retourn\xe9es. Si vous avez besoin de plus d'informations, vous pouvez demander des port\xe9es suppl\xe9mentaires pour acc\xe9der \xe0 plus de revendications."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:'Une "revendication" est une assertion faite \xe0 propos d\'un sujet ; une "port\xe9e" est un groupe de revendications. Dans le cas actuel, une revendication est une information sur l\'utilisateur.'})}),"\n",(0,t.jsx)(n.p,{children:"Voici un exemple non normatif de la relation port\xe9e - revendication :"}),"\n",(0,t.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"La revendication \"sub\" signifie \"sujet\", qui est l'identifiant unique de l'utilisateur (c'est-\xe0-dire l'ID utilisateur)."})}),"\n",(0,t.jsxs)(n.p,{children:["Le SDK Logto demandera toujours trois port\xe9es : ",(0,t.jsx)(n.code,{children:"openid"}),", ",(0,t.jsx)(n.code,{children:"profile"})," et ",(0,t.jsx)(n.code,{children:"offline_access"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},98190:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>y,contentTitle:()=>b,default:()=>A,frontMatter:()=>v,metadata:()=>t,toc:()=>C});const t=JSON.parse('{"id":"quick-starts/framework/chrome-extension/README","title":"Ajoutez l\u2019authentification \xe0 votre application d\'extension Chrome","description":"Ce guide vous montrera comment int\xe9grer Logto dans votre extension Chrome.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","sourceDirName":"quick-starts/framework/chrome-extension","slug":"/quick-starts/chrome-extension","permalink":"/fr/quick-starts/chrome-extension","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/chrome-extension","sidebar_label":"Extension Chrome","sidebar_custom_props":{"description":"Les extensions Chrome sont des mini applications web qui s\'ex\xe9cutent dans Google Chrome."}},"sidebar":"quickStartSidebar","previous":{"title":"Capacitor JS","permalink":"/fr/quick-starts/capacitor-js"},"next":{"title":".NET Core (Blazor Server)","permalink":"/fr/quick-starts/dotnet-core/blazor-server"}}');var r=s(86070),i=s(15658),o=s(39038),c=s(31578),l=s(19140);function a(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La d\xe9monstration suivante a \xe9t\xe9 test\xe9e sur Chrome v123.0.6312.87 (arm64). D'autres versions devraient \xe9galement fonctionner, tant qu'elles prennent en charge les API ",(0,r.jsx)(n.code,{children:"chrome"})," utilis\xe9es dans le SDK."]}),"\n",(0,r.jsxs)(n.li,{children:["Le projet d'exemple est disponible sur notre ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"r\xe9pertoire GitHub"}),"."]}),"\n"]})})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}var u=s(78551),p=s(77501);function h(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(p.A,{children:[(0,r.jsx)(u.A,{value:"npm",label:"npm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm i @logto/chrome-extension\n"})})}),(0,r.jsx)(u.A,{value:"yarn",label:"Yarn",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @logto/chrome-extension\n"})})}),(0,r.jsx)(u.A,{value:"pnpm",label:"pnpm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm add @logto/chrome-extension\n"})})})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}var j=s(91246);const m=[{value:"Le flux d&#39;authentification",id:"le-flux-dauthentification",level:3},...j.RM,{value:"Mettre \xe0 jour le <code>manifest.json</code>",id:"mettre-\xe0-jour-le-manifestjson",level:3},{value:"Configurer un script d&#39;arri\xe8re-plan (service worker)",id:"configurer-un-script-darri\xe8re-plan-service-worker",level:3},{value:"Mettre \xe0 jour les param\xe8tres de l&#39;application Logto",id:"mettre-\xe0-jour-les-param\xe8tres-de-lapplication-logto",level:3},{value:"Ajouter des boutons de connexion et de d\xe9connexion au popup",id:"ajouter-des-boutons-de-connexion-et-de-d\xe9connexion-au-popup",level:3},{value:"Point de contr\xf4le : Tester le flux d&#39;authentification",id:"point-de-contr\xf4le--tester-le-flux-dauthentification",level:3},{value:"V\xe9rifier l&#39;\xe9tat d&#39;authentification",id:"v\xe9rifier-l\xe9tat-dauthentification",level:3},{value:"Autres consid\xe9rations",id:"autres-consid\xe9rations",level:3}];function g(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"le-flux-dauthentification",children:"Le flux d'authentification"}),"\n",(0,r.jsx)(n.p,{children:'En supposant que vous ayez mis un bouton "Se connecter" dans le popup de votre extension Chrome, le flux d\'authentification ressemblera \xe0 ceci :'}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n  participant A as Extension popup\n  participant B as Extension service worker\n  participant C as Logto sign-in experience\n\n  A->>B: Invoque la connexion\n  B->>C: Redirige vers Logto\n  C->>C: L'utilisateur se connecte\n  C->>B: Redirige vers l'extension\n  B->>A: Notifie le popup"}),"\n",(0,r.jsxs)(n.p,{children:["Pour d'autres pages interactives de votre extension, vous devez simplement remplacer le participant ",(0,r.jsx)(n.code,{children:"Extension popup"})," par le nom de la page. Dans ce tutoriel, nous nous concentrerons sur la page popup."]}),"\n",(0,r.jsx)(j.Ay,{}),"\n",(0,r.jsxs)(n.h3,{id:"mettre-\xe0-jour-le-manifestjson",children:["Mettre \xe0 jour le ",(0,r.jsx)(n.code,{children:"manifest.json"})]}),"\n",(0,r.jsxs)(n.p,{children:["Le SDK Logto n\xe9cessite les autorisations suivantes dans le ",(0,r.jsx)(n.code,{children:"manifest.json"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="manifest.json"',children:'{\n  "permissions": ["identity", "storage"],\n  "host_permissions": ["https://*.logto.app/*"]\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"permissions.identity"}),": Requis pour l'API Chrome Identity, utilis\xe9e pour se connecter et se d\xe9connecter."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"permissions.storage"}),": Requis pour stocker la session de l'utilisateur."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"host_permissions"}),": Requis pour que le SDK Logto communique avec les APIs Logto."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Si vous utilisez un domaine personnalis\xe9 sur Logto Cloud, vous devez mettre \xe0 jour le ",(0,r.jsx)(n.code,{children:"host_permissions"})," pour correspondre \xe0 votre domaine."]})}),"\n",(0,r.jsx)(n.h3,{id:"configurer-un-script-darri\xe8re-plan-service-worker",children:"Configurer un script d'arri\xe8re-plan (service worker)"}),"\n",(0,r.jsx)(n.p,{children:"Dans le script d'arri\xe8re-plan de votre extension Chrome, initialisez le SDK Logto :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="service-worker.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nexport const logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Remplacez ",(0,r.jsx)(n.code,{children:"<your-logto-endpoint>"})," et ",(0,r.jsx)(n.code,{children:"<your-logto-app-id>"})," par les valeurs r\xe9elles. Vous pouvez trouver ces valeurs sur la page de l'application que vous venez de cr\xe9er dans la Logto Console."]}),"\n",(0,r.jsxs)(n.p,{children:["Si vous n'avez pas de script d'arri\xe8re-plan, vous pouvez suivre le ",(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/develop/concepts/service-workers/basics",children:"guide officiel"})," pour en cr\xe9er un."]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pourquoi avons-nous besoin d'un script d'arri\xe8re-plan ?"})}),(0,r.jsx)(n.p,{children:"Les pages d'extension normales comme le popup ou la page d'options ne peuvent pas s'ex\xe9cuter en arri\xe8re-plan et peuvent \xeatre ferm\xe9es pendant le processus d'authentification. Un script d'arri\xe8re-plan garantit que le processus d'authentification peut \xeatre correctement g\xe9r\xe9."})]}),"\n",(0,r.jsx)(n.p,{children:"Ensuite, nous devons \xe9couter le message des autres pages d'extension et g\xe9rer le processus d'authentification :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="service-worker.js"',children:"chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  // Dans le code ci-dessous, puisque nous retournons `true` pour chaque action, nous devons appeler `sendResponse`\n  // pour notifier l'exp\xe9diteur. Vous pouvez \xe9galement g\xe9rer les erreurs ici, ou utiliser d'autres moyens pour notifier l'exp\xe9diteur.\n\n  if (message.action === 'signIn') {\n    const redirectUri = chrome.identity.getRedirectURL('/callback');\n    logtoClient.signIn(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  if (message.action === 'signOut') {\n    const redirectUri = chrome.identity.getRedirectURL();\n    logtoClient.signOut(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  return false;\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Vous remarquerez peut-\xeatre qu'il y a deux URI de redirection utilis\xe9es dans le code ci-dessus. Elles sont toutes deux cr\xe9\xe9es par ",(0,r.jsx)(n.code,{children:"chrome.identity.getRedirectURL"}),", qui est une ",(0,r.jsx)(n.a,{href:"https://developer.chrome.com/docs/extensions/reference/api/identity#method-getRedirectURL",children:"API Chrome int\xe9gr\xe9e"})," pour g\xe9n\xe9rer une URL de redirection pour les flux d'authentification. Les deux URI seront :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/callback"})," pour la connexion."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/"})," pour la d\xe9connexion."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Notez que ces URI ne sont pas accessibles et sont uniquement utilis\xe9es pour que Chrome d\xe9clenche des actions sp\xe9cifiques pour le processus d'authentification."}),"\n",(0,r.jsx)(n.h3,{id:"mettre-\xe0-jour-les-param\xe8tres-de-lapplication-logto",children:"Mettre \xe0 jour les param\xe8tres de l'application Logto"}),"\n",(0,r.jsx)(n.p,{children:"Nous devons maintenant mettre \xe0 jour les param\xe8tres de l'application Logto pour autoriser les URI de redirection que nous venons de cr\xe9er."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Allez sur la page de l'application dans la Logto Console."}),"\n",(0,r.jsxs)(n.li,{children:['Dans la section "Redirect URIs", ajoutez l\'URI : ',(0,r.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/callback"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:['Dans la section "Post sign-out redirect URIs", ajoutez l\'URI : ',(0,r.jsx)(n.code,{children:"https://<extension-id>.chromiumapp.org/"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:['Dans la section "CORS allowed origins", ajoutez l\'URI : ',(0,r.jsx)(n.code,{children:"chrome-extension://<extension-id>"}),". Le SDK dans l'extension Chrome utilisera cette origine pour communiquer avec les APIs Logto."]}),"\n",(0,r.jsxs)(n.li,{children:["Cliquez sur ",(0,r.jsx)(n.strong,{children:"Enregistrer les modifications"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["N'oubliez pas de remplacer ",(0,r.jsx)(n.code,{children:"<extension-id>"})," par votre ID d'extension r\xe9el. Vous pouvez trouver l'ID de l'extension sur la page ",(0,r.jsx)(n.code,{children:"chrome://extensions"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"ajouter-des-boutons-de-connexion-et-de-d\xe9connexion-au-popup",children:"Ajouter des boutons de connexion et de d\xe9connexion au popup"}),"\n",(0,r.jsx)(n.p,{children:"Nous y sommes presque ! Ajoutons les boutons de connexion et de d\xe9connexion et d'autres logiques n\xe9cessaires \xe0 la page popup."}),"\n",(0,r.jsxs)(n.p,{children:["Dans le fichier ",(0,r.jsx)(n.code,{children:"popup.html"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="popup.html"',children:'<button id="sign-in">Se connecter</button> <button id="sign-out">Se d\xe9connecter</button>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Dans le fichier ",(0,r.jsx)(n.code,{children:"popup.js"})," (en supposant que ",(0,r.jsx)(n.code,{children:"popup.js"})," est inclus dans le ",(0,r.jsx)(n.code,{children:"popup.html"}),") :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  // Connexion termin\xe9e (ou \xe9chou\xe9e), vous pouvez mettre \xe0 jour l'interface utilisateur ici.\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  // D\xe9connexion termin\xe9e (ou \xe9chou\xe9e), vous pouvez mettre \xe0 jour l'interface utilisateur ici.\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"point-de-contr\xf4le--tester-le-flux-dauthentification",children:"Point de contr\xf4le : Tester le flux d'authentification"}),"\n",(0,r.jsx)(n.p,{children:"Vous pouvez maintenant tester le flux d'authentification dans votre extension Chrome :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Ouvrez le popup de l'extension."}),"\n",(0,r.jsx)(n.li,{children:'Cliquez sur le bouton "Se connecter".'}),"\n",(0,r.jsx)(n.li,{children:"Vous serez redirig\xe9 vers la page de connexion Logto."}),"\n",(0,r.jsx)(n.li,{children:"Connectez-vous avec votre compte Logto."}),"\n",(0,r.jsx)(n.li,{children:"Vous serez redirig\xe9 vers Chrome."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"v\xe9rifier-l\xe9tat-dauthentification",children:"V\xe9rifier l'\xe9tat d'authentification"}),"\n",(0,r.jsx)(n.p,{children:"Puisque Chrome fournit des APIs de stockage unifi\xe9es, plut\xf4t que le flux de connexion et de d\xe9connexion, toutes les autres m\xe9thodes du SDK Logto peuvent \xeatre utilis\xe9es directement dans la page popup."}),"\n",(0,r.jsxs)(n.p,{children:["Dans votre ",(0,r.jsx)(n.code,{children:"popup.js"}),", vous pouvez r\xe9utiliser l'instance ",(0,r.jsx)(n.code,{children:"LogtoClient"})," cr\xe9\xe9e dans le script d'arri\xe8re-plan, ou en cr\xe9er une nouvelle avec la m\xeame configuration :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nconst logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n\n// Ou r\xe9utiliser l'instance logtoClient cr\xe9\xe9e dans le script d'arri\xe8re-plan\nimport { logtoClient } from './service-worker.js';\n"})}),"\n",(0,r.jsx)(n.p,{children:"Ensuite, vous pouvez cr\xe9er une fonction pour charger l'\xe9tat d'authentification et le profil de l'utilisateur :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"const loadAuthenticationState = async () => {\n  const isAuthenticated = await logtoClient.isAuthenticated();\n  // Mettez \xe0 jour l'interface utilisateur en fonction de l'\xe9tat d'authentification\n\n  if (isAuthenticated) {\n    const user = await logtoClient.getIdTokenClaims(); // { sub: '...', email: '...', ... }\n    // Mettez \xe0 jour l'interface utilisateur avec le profil de l'utilisateur\n  }\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Vous pouvez \xe9galement combiner la fonction ",(0,r.jsx)(n.code,{children:"loadAuthenticationState"})," avec la logique de connexion et de d\xe9connexion :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  await loadAuthenticationState();\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  await loadAuthenticationState();\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"Voici un exemple de la page popup avec l'\xe9tat d'authentification :"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Page popup",src:s(98456).A+"",width:"950",height:"662"})}),"\n",(0,r.jsx)(n.h3,{id:"autres-consid\xe9rations",children:"Autres consid\xe9rations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bundling du service worker"})," : Si vous utilisez un bundler comme Webpack ou Rollup, vous devez explicitement d\xe9finir la cible sur ",(0,r.jsx)(n.code,{children:"browser"})," ou similaire pour \xe9viter le bundling inutile des modules Node.js."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"R\xe9solution des modules"})," : Le SDK Logto pour les extensions Chrome est un module uniquement ESM."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Consultez notre ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"projet d'exemple"})," pour un exemple complet avec TypeScript, Rollup et d'autres configurations."]})]})}function f(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}const v={slug:"/quick-starts/chrome-extension",sidebar_label:"Extension Chrome",sidebar_custom_props:{description:"Les extensions Chrome sont des mini applications web qui s'ex\xe9cutent dans Google Chrome."}},b="Ajoutez l\u2019authentification \xe0 votre application d'extension Chrome",y={},C=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation",id:"installation",level:2},{value:"Int\xe9gration",id:"int\xe9gration",level:2},...m,{value:"Obtenir des informations sur l&#39;utilisateur",id:"obtenir-des-informations-sur-lutilisateur",level:2},...l.RM,{value:"Ressources API",id:"ressources-api",level:2},...c.RM,{value:"Lectures compl\xe9mentaires",id:"lectures-compl\xe9mentaires",level:2},...o.RM];function R(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ajoutez-lauthentification-\xe0-votre-application-dextension-chrome",children:"Ajoutez l\u2019authentification \xe0 votre application d'extension Chrome"})}),"\n",(0,r.jsx)(n.p,{children:"Ce guide vous montrera comment int\xe9grer Logto dans votre extension Chrome."}),"\n",(0,r.jsx)(d,{}),"\n",(0,r.jsx)(n.h2,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Un compte ",(0,r.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou un ",(0,r.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-h\xe9berg\xe9"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Une application monopage (SPA) cr\xe9\xe9e dans Logto Console."}),"\n",(0,r.jsx)(n.li,{children:"Un projet d'extension Chrome."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(x,{}),"\n",(0,r.jsx)(n.h2,{id:"int\xe9gration",children:"Int\xe9gration"}),"\n",(0,r.jsx)(f,{}),"\n",(0,r.jsx)(n.h2,{id:"obtenir-des-informations-sur-lutilisateur",children:"Obtenir des informations sur l'utilisateur"}),"\n",(0,r.jsx)(l.Ay,{package:"@logto/chrome-extension"}),"\n",(0,r.jsx)(n.h2,{id:"ressources-api",children:"Ressources API"}),"\n",(0,r.jsx)(c.Ay,{package:"@logto/chrome-extension"}),"\n",(0,r.jsx)(n.h2,{id:"lectures-compl\xe9mentaires",children:"Lectures compl\xe9mentaires"}),"\n",(0,r.jsx)(o.Ay,{})]})}function A(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(R,{...e})}):R(e)}},31578:(e,n,s)=>{s.d(n,{Ay:()=>A,RM:()=>C});var t=s(86070),r=s(15658),i=s(42839),o=s(71307),c=s(90116),l=s(45478),a=s(8899);function d(e){return(0,t.jsxs)(t.Fragment,{children:["\n","\n",(0,t.jsx)(a.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\nscopes: [UserScope.Organisations],\n});`}),"\n"]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function p(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"import LogtoClient from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  // ...other configs\n  // highlight-next-line\n  resources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Ajouter des ressources API\n});\n"})})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}function x(e){return(0,t.jsxs)(t.Fragment,{children:["\n","\n",(0,t.jsx)(a.A,{language:"js",title:"index.js",children:`import LogtoClient from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nport\xe9es: ['shopping:read', 'shopping:write', 'store:read', 'store:write'],\nressources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Ajouter des ressources API\n// highlight-end\n});`}),"\n"]})}function j(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}function m(e){return(0,t.jsxs)(t.Fragment,{children:["\n","\n",(0,t.jsx)(a.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nscopes: ['read', 'write'],\nresources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'],\n// highlight-end\n});`}),"\n"]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}function f(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const accessToken = await logtoClient.getAccessToken('https://store.your-app.com/api');\nconsole.log('Jeton d\u2019acc\xe8s', accessToken);\n"})})}function v(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(f,{...e})}):f(e)}function b(e){const n={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"// Obtenez les organizationIds \xe0 partir des userInfo\n\nconst claims = await logtoClient.getIdTokenClaims();\nconst organizationIds = claims.organizations;\n\n/**\n * Ou \xe0 partir des revendications du jeton d\u2019identifiant\n *\n * const claims = await logtoClient.getIdTokenClaims();\n * const organizationIds = claims.organizations;\n */\n\n// Obtenez le jeton d\u2019acc\xe8s de l\u2019organisation\nif (organizationIds.length > 0) {\n  const organizationId = organizationIds[0];\n  const organizationAccessToken = await logtoClient.getOrganizationToken(organizationId);\n  console.log('Jeton d\u2019acc\xe8s de l\u2019organisation', organizationAccessToken);\n}\n"})})}function y(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(b,{...e})}):b(e)}const C=[...i.RM,{value:"Configurer le client Logto",id:"configurer-le-client-logto",level:3},...o.RM,{value:"R\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour la ressource API",id:"r\xe9cup\xe9rer-le-jeton-dacc\xe8s-pour-la-ressource-api",level:3},...c.RM,{value:"R\xe9cup\xe9rer les jetons d\u2019organisation",id:"r\xe9cup\xe9rer-les-jetons-dorganisation",level:3},...l.RM,{value:"Attacher le jeton d\u2019acc\xe8s aux en-t\xeates de requ\xeate",id:"attacher-le-jeton-dacc\xe8s-aux-en-t\xeates-de-requ\xeate",level:3}];function R(e){const n={admonition:"admonition",code:"code",h3:"h3",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"configurer-le-client-logto",children:"Configurer le client Logto"}),"\n",(0,t.jsx)(o.Ay,{configResourcesCode:(0,t.jsx)(h,{}),configResourcesWithScopesCode:(0,t.jsx)(j,{package:e.package}),configResourcesWithSharedScopesCode:(0,t.jsx)(g,{package:e.package})}),"\n",(0,t.jsx)(n.h3,{id:"r\xe9cup\xe9rer-le-jeton-dacc\xe8s-pour-la-ressource-api",children:"R\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour la ressource API"}),"\n",(0,t.jsx)(c.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,t.jsx)(v,{})}),"\n",(0,t.jsx)(n.h3,{id:"r\xe9cup\xe9rer-les-jetons-dorganisation",children:"R\xe9cup\xe9rer les jetons d\u2019organisation"}),"\n",(0,t.jsx)(l.Ay,{organizationScope:"UserScope.Organizations",configOrganizationCode:(0,t.jsx)(u,{package:e.package}),getOrganizationAccessTokenCode:(0,t.jsx)(y,{})}),"\n",(0,t.jsx)(n.p,{children:"./code/_scopes-and-claims-code.mdx./code/_config-organization-code.mdx"}),"\n",(0,t.jsx)(n.h3,{id:"attacher-le-jeton-dacc\xe8s-aux-en-t\xeates-de-requ\xeate",children:"Attacher le jeton d\u2019acc\xe8s aux en-t\xeates de requ\xeate"}),"\n",(0,t.jsxs)(n.p,{children:["Placez le jeton dans le champ ",(0,t.jsx)(n.code,{children:"Authorization"})," des en-t\xeates HTTP avec le format Bearer (",(0,t.jsx)(n.code,{children:"Bearer YOUR_TOKEN"}),"), et vous \xeates pr\xeat \xe0 partir."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Le flux d'int\xe9gration du jeton Bearer peut varier en fonction du framework ou du demandeur que vous utilisez. Choisissez votre propre m\xe9thode pour appliquer l'en-t\xeate de requ\xeate ",(0,t.jsx)(n.code,{children:"Authorization"}),"."]})})]})}function A(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(R,{...e})}):R(e)}},19140:(e,n,s)=>{s.d(n,{Ay:()=>p,RM:()=>d});var t=s(86070),r=s(15658),i=s(8899),o=s(65085),c=s(98601),l=s(13195),a=s(17646);const d=[{value:"Afficher les informations de l&#39;utilisateur",id:"afficher-les-informations-de-lutilisateur",level:3},{value:"Demander des revendications suppl\xe9mentaires",id:"demander-des-revendications-suppl\xe9mentaires",level:3},...c.RM,...a.RM,...o.RM,{value:"Port\xe9es et revendications",id:"port\xe9es-et-revendications",level:3},...l.RM];function u(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"afficher-les-informations-de-lutilisateur",children:"Afficher les informations de l'utilisateur"}),"\n",(0,t.jsxs)(n.p,{children:["Pour afficher les informations de l'utilisateur, vous pouvez utiliser la m\xe9thode ",(0,t.jsx)(n.code,{children:"logtoClient.getIdTokenClaims()"}),". Par exemple, sur votre page d'accueil :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="Home.js"',children:"const userInfo = await logtoClient.getIdTokenClaims();\n\n// G\xe9n\xe9rer un tableau d'affichage pour les revendications du jeton d\u2019identifiant\nconst table = document.createElement('table');\nconst thead = document.createElement('thead');\nconst tr = document.createElement('tr');\nconst thName = document.createElement('th');\nconst thValue = document.createElement('th');\nthName.innerHTML = 'Nom';\nthValue.innerHTML = 'Valeur';\ntr.append(thName, thValue);\nthead.append(tr);\ntable.append(thead);\n\nconst tbody = document.createElement('tbody');\n\nfor (const [key, value] of Object.entries(userInfo)) {\n  const tr = document.createElement('tr');\n  const tdName = document.createElement('td');\n  const tdValue = document.createElement('td');\n  tdName.innerHTML = key;\n  tdValue.innerHTML = typeof value === 'string' ? value : JSON.stringify(value);\n  tr.append(tdName, tdValue);\n  tbody.append(tr);\n}\n\ntable.append(tbody);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"demander-des-revendications-suppl\xe9mentaires",children:"Demander des revendications suppl\xe9mentaires"}),"\n",(0,t.jsx)(c.Ay,{method:"getIdTokenClaims()"}),"\n",(0,t.jsx)(a.Ay,{}),"\n",(0,t.jsx)(n.p,{children:"Pour demander des port\xe9es suppl\xe9mentaires, vous pouvez configurer les configurations Logto :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:"// highlight-next-line\nimport LogtoClient, { UserScope } from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  appId: '<your-application-id>',\n  endpoint: '<your-logto-endpoint>',\n  // highlight-next-line\n  scopes: [UserScope.Email, UserScope.Phone],\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Ensuite, vous pouvez acc\xe9der aux revendications suppl\xe9mentaires dans la valeur de retour de ",(0,t.jsx)(n.code,{children:"logtoClient.getIdTokenClaims()"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const claims = await getIdTokenClaims();\n// Vous pouvez maintenant acc\xe9der aux revendications suppl\xe9mentaires `claims.email`, `claims.phone`, etc.\n"})}),"\n",(0,t.jsx)(o.Ay,{type:"method",method:"logtoClient.fetchUserInfo()",codeSnippet:(0,t.jsx)(i.A,{language:"js",children:"const userInfo = await logtoClient.fetchUserInfo();\n// Vous pouvez maintenant acc\xe9der \xe0 la revendication `userInfo.custom_data`"})}),"\n",(0,t.jsx)(n.h3,{id:"port\xe9es-et-revendications",children:"Port\xe9es et revendications"}),"\n",(0,t.jsx)(l.Ay,{})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},78551:(e,n,s)=>{s.d(n,{A:()=>o});s(30758);var t=s(13526);const r={tabItem:"tabItem_PGP0"};var i=s(86070);function o(e){let{children:n,hidden:s,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,o),hidden:s,children:n})}},77501:(e,n,s)=>{s.d(n,{A:()=>C});var t=s(30758),r=s(13526),i=s(65052),o=s(25557),c=s(77469),l=s(50873),a=s(62230),d=s(60196);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:s,attributes:t,default:r}}=e;return{value:n,label:s,attributes:t,default:r}}))}(s);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function h(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:s}=e;const r=(0,o.W6)(),i=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,l.aZ)(i),(0,t.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(r.location.search);n.set(i,e),r.replace({...r.location,search:n.toString()})}),[i,r])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,i=p(e),[o,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=s.find((e=>e.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[a,u]=x({queryString:s,groupId:r}),[j,m]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,i]=(0,d.Dv)(s);return[r,(0,t.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:r}),g=(()=>{const e=a??j;return h({value:e,tabValues:i})?e:null})();(0,c.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),m(e)}),[u,m,i]),tabValues:i}}var m=s(13887);const g={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var f=s(86070);function v(e){let{className:n,block:s,selectedValue:t,selectValue:o,tabValues:c}=e;const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,i.a_)(),d=e=>{const n=e.currentTarget,s=l.indexOf(n),r=c[s].value;r!==t&&(a(n),o(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;n=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;n=l[s]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":s},n),children:c.map((e=>{let{value:n,label:s,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:u,onClick:d,...i,className:(0,r.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":t===n}),children:s??n},n)}))})}function b(e){let{lazy:n,children:s,selectedValue:i}=e;const o=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===i));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function y(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function C(e){const n=(0,m.A)();return(0,f.jsx)(y,{...e,children:u(e.children)},String(n))}},98456:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/extension-popup-34a0c267638724bc33b8daea59475880.webp"}}]);